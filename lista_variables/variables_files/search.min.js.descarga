$(document).ajaxStart(function(){$("#busy").addClass("busyModal")});$(document).ajaxStop(function(){$("#busy").removeClass("busyModal")});
var BrowsePage=React.createClass({displayName:"BrowsePage",getInitialState:function(){return{letter:"",filter:null}},componentDidMount:function(){var a=this.props.searchConfig.facetFields,b={},c=this.props.letter;for(i=0;i<a.length;i++){var d=a[i];d.browseAction==this.props.browseType&&(b=d)}""==c&&1E3<this.props.searchResults.facet_counts.facet_fields[b.field].length&&(c="a");this.setState({filter:b,letter:c})},correctFqInParams:function(a){if(!a.fq)a.fq=[];else if(!Array.isArray(a.fq)){var b=[];
b[0]=a.fq;a.fq=b}return a},buildUrlVariables:function(a){var b="?";a=convertParams(a);for(var c=0;c<a.length;c++){var d=a[c];0<c&&(b+="\x26");b+=d}return b},updateResults:function(a){a=window.location.origin+window.location.pathname.replace("/browse/facet/","/search/").replace("/"+this.state.filter.browseAction,"")+this.buildUrlVariables(a);window.location.pathname.startsWith("/web")&&(a=a.replace("/browse/publications","/search/publications"));window.location=a},processFacetValues:function(a){var b=
this.state.letter,c=[];if(""!=b){var d=0;for(i=0;i<a.length;i+=2){var e=a[i],g=a[i+1],f=a[i];"pipeDelimited"==this.state.filter.dataType&&(f=a[i].substr(a[i].indexOf("|")+1));if("#"==b&&!f.charAt(0).match(/[A-Za-z]/i)||f.toLowerCase().startsWith(b))f=[],f[0]=e,f[1]=g,c[d]=f,d++}}else for(i=0;i<a.length;i+=2)f=[],f[0]=a[i],f[1]=a[i+1],c[i/2]=f;return c="pipeDelimited"==this.state.filter.dataType?c.sort(function(a,b){return a[0].substr(a[0].indexOf("|")+1).toLowerCase().localeCompare(b[0].substr(b[0].indexOf("|")+
1).toLowerCase())}):c.sort(function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())})},logSearchEvent:function(a,b){var c=searchServerUrl+"/default/search/logSearchEvent?",c="keyword_search"==a?c+("searchTerm\x3d"+b):this.props.searchResults&&this.props.searchResults.responseHeader&&this.props.searchResults.responseHeader.params&&this.props.searchResults.responseHeader.params.q?c+("searchTerm\x3d"+this.props.searchResults.responseHeader.params.q):c+"searchTerm\x3d",c=c+("\x26tenant\x3d"+
this.props.searchConfig.application),c=c+("\x26action\x3d"+a)+("\x26value\x3d"+encodeURIComponent(b)),c=c+("\x26url\x3d"+encodeURI(location.href));$.ajax({url:c,type:"GET",global:!1,beforeSend:function(a,b){jwtToken&&(console.log("jwtToken: "+jwtToken),a.setRequestHeader("Authorization","Bearer "+jwtToken))},success:function(a){}.bind(this),error:function(a,b,c){console.error(a,b,c)}})},buildAlphabetLinks:function(a){var b=window.location.origin+window.location.pathname+this.buildUrlVariables(a)+
"\x26letter\x3d";a="ABCDEFGHIJKLMNOPQRSTUVWXYZ#".split("").map(function(a,d){var e=b+encodeURIComponent(a);return React.createElement("span",{key:d},React.createElement("a",{href:e},a),"\u00a0")});return React.createElement("p",null,a)},render:function(){if(null==this.state.filter)return React.createElement("div",null);var a=this.state.filter,b=this.processFacetValues(this.props.searchResults.facet_counts.facet_fields[a.field]),c=this.logSearchEvent,d=this.updateResults,e=this.correctFqInParams(this.props.searchResults.responseHeader.params);
delete e.rows;var g=React.createElement("div",null);1E3<this.props.searchResults.facet_counts.facet_fields[a.field].length&&(g=this.buildAlphabetLinks(e));b=b.map(function(b,g){return React.createElement(BrowseValue,{logSearchEvent:c,params:e,key:g,value:b,filter:a,updateResults:d})});return React.createElement("div",null,React.createElement("article",null,React.createElement("h1",null,"Browse by ",a.label),React.createElement("p",null,"Click on term below to narrow your search results by adding that term to your search."),
g,React.createElement("ul",null,b)),React.createElement("div",{id:"busy"}))}});function isLetter(a){return a.match(/[a-z]/i)}
var BrowseValue=React.createClass({displayName:"BrowseValue",getInitialState:function(){return null},addFacetValue:function(a){console.log("Executing addFacetValue.");a.preventDefault();a=this.props.filter.field+":"+this.props.value[0];var b=this.props.params;b.start=0;delete b.rows;b.fq[b.fq.length]=a;this.props.logSearchEvent("add_filter_value_to_search",this.props.value[0]);this.props.updateResults(b)},render:function(){var a=React.createElement("span",null),a=this.props.value[0],b=this.props.value[1];
if(this.props.filter.customValues)for(var c=0;c<this.props.filter.customValues.length;c++){var d=this.props.filter.customValues[c];d.value==a&&(a=d.label)}else"pipeDelimited"==this.props.filter.dataType&&(a=a.substring(a.indexOf("|")+1).trim(),""==a&&(a="empty"));return"empty"==a?null:a=React.createElement("li",null,React.createElement("a",{className:"facet_select",role:"button",href:"#",onClick:this.addFacetValue},a),"\u00a0","(",b.toLocaleString("en"),")")}}),CitationSearchResult=React.createClass({displayName:"CitationSearchResult",
getInitialState:function(){return null},componentDidUpdate:function(){var a=$(".relStudies"),b=$("#relStudies-toggle-state"),c=$("#related-publications-toggle-switch");c.prop("checked",!0);b.text("Visible");c.change(function(){this.checked?(a.show(),b.text("Visible")):(a.hide(),b.text("Hidden"))})},addResultToSavedResults:function(){var a=this.props.savedResults;a[a.length]=this.props.children[this.props.searchConfig.idVariable].toString();this.props.updateSavedResults(a)},removeResultFromSavedResults:function(){var a=
this.props.savedResults,b=a.indexOf(this.props.children[this.props.searchConfig.idVariable].toString());a.splice(b,1);this.props.updateSavedResults(a)},getIcon:function(){var a=React.createElement("span",null);"ADVS"==this.props.children.RIS_TYPE?a=React.createElement("i",{className:"fa-light fa-film publicationsIcon fa-lg",title:"Audiovisual Material"},React.createElement("span",{className:"visually-hidden"},"Audiovisual Material")):"BOOK"==this.props.children.RIS_TYPE?a=React.createElement("i",
{className:"fa-light fa-book publicationsIcon fa-lg",title:"Book"},React.createElement("span",{className:"visually-hidden"},"Book")):"CHAP"==this.props.children.RIS_TYPE?a=React.createElement("i",{className:"fa-light fa-book-open publicationsIcon fa-lg",title:"Book Section"},React.createElement("span",{className:"visually-hidden"},"Book Section")):"CONF"==this.props.children.RIS_TYPE?a=React.createElement("i",{className:"fa-light fa-podium publicationsIcon fa-lg",title:"Conference Presentations"},
React.createElement("span",{className:"visually-hidden"},"Conference Presentation")):"ELEC"==this.props.children.RIS_TYPE?a=React.createElement("i",{className:"fa-light fa-desktop publicationsIcon fa-lg",title:"Electronic Source"},React.createElement("span",{className:"visually-hidden"},"Electronic Source")):"GEN"==this.props.children.RIS_TYPE?a=React.createElement("i",{className:"fa-light fa-folder-open publicationsIcon fa-lg",title:"Document"},React.createElement("span",{className:"visually-hidden"},
"Document")):"JOUR"==this.props.children.RIS_TYPE?a=React.createElement("i",{className:"fa-light fa-notebook publicationsIcon fa-lg",title:"Journal Article"},React.createElement("span",{className:"visually-hidden"},"Journal Article")):"MGZN"==this.props.children.RIS_TYPE?a=React.createElement("i",{className:"fa-light fa-book-open-cover publicationsIcon fa-lg",title:"Magazine Article"},React.createElement("span",{className:"visually-hidden"},"Magazine Article")):"NEWS"==this.props.children.RIS_TYPE?
a=React.createElement("i",{className:"fa-light fa-newspaper publicationsIcon fa-lg",title:"Newspaper Article"},React.createElement("span",{className:"visually-hidden"},"Newspaper Article")):"RPRT"==this.props.children.RIS_TYPE?a=React.createElement("i",{className:"fa-light fa-file publicationsIcon fa-lg",title:"Report"},React.createElement("span",{className:"visually-hidden"},"Report")):"THES"==this.props.children.RIS_TYPE&&(a=React.createElement("i",{className:"fa-light fa-graduation-cap publicationsIcon fa-lg",
title:"Thesis"},React.createElement("span",{className:"visually-hidden"},"Thesis")));return a},downloadFromURL:function(a){a.preventDefault();window.location=this.props.children.URL},downloadFromURLPDF:function(a){console.log("Executing downloadFromURL.");a.preventDefault();window.location=this.props.children.URL_PDF},downloadFromDOI:function(a){a.preventDefault();window.location="https://doi.org/"+this.props.children.DOI},buildPMCIDUrl:function(){return"http://www.ncbi.nlm.nih.gov/pmc/?term\x3d"+
this.props.children.PMCID},downloadFromPMCID:function(a){a.preventDefault();window.location=this.buildPMCIDUrl()},buildGoogleScholarUrl:function(){var a;a="http://scholar.google.com/scholar?q\x3d"+encodeURIComponent(this.props.children.TITLE);a+="\x26hl\x3den\x26lr\x3d";a+="\x26num\x3d100";a+="\x26as_epq\x3d";return a+="\x26resourceId\x3d"+this.props.children.REF_ID},downloadFromGoogleScholar:function(a){a.preventDefault();window.location=this.buildGoogleScholarUrl()},buildWorldCatUrl:function(){var a;
a="http://worldcatlibraries.org/registry/gateway?atitle\x3d"+encodeURIComponent(this.props.children.TITLE);a+="\x26date\x3d"+encodeURIComponent(this.props.children.YEAR_PUB);a+="\x26volume\x3d"+encodeURIComponent(this.props.children.VOLUME);a+="\x26issue\x3d"+encodeURIComponent(this.props.children.INUMBER);a+="\x26spage\x3d"+encodeURIComponent(this.props.children.PAGE_START);a+="\x26issn\x3d"+encodeURIComponent(this.props.children.ISSN);return a=a+"\x26aulast\x3d"+("\x26resourceId\x3d"+this.props.children.REF_ID)},
downloadFromWorldCat:function(a){a.preventDefault();window.location=this.buildWorldCatUrl()},downloadFile:function(a){a.preventDefault();a=this.buildBibUrl()+"/citations/data/"+this.props.children.REF_ID+"/fileDownload";window.location=a},buildFullTextLinks:function(){var a=!1,b=React.createElement("span",null);null!=this.props.children.URL_ABS&&(a=!0,b=React.createElement("span",null,React.createElement("a",{className:"external",href:this.props.children.URL_ABS},"Abstract"),"\u00a0"));var c=React.createElement("span",
null),d=React.createElement("span",null);if(null!=this.props.children.FILENAME&&"JOUR"!=this.props.children.RIS_TYPE)var a=!0,e=this.buildBibUrl()+"/citations/data/"+this.props.children.REF_ID+"/fileDownload",c=React.createElement("span",null,React.createElement("a",{className:"external",href:e,onClick:this.downloadFile},"PDF"),"\u00a0");else null!=this.props.children.URL_PDF&&(a=!0,d=React.createElement("span",null,React.createElement("a",{className:"external",href:this.props.children.URL_PDF,onClick:this.downloadFromURLPDF},
"PDF"),"\u00a0"));e=React.createElement("span",null);null!=this.props.children.URL&&(a=!0,e=React.createElement("span",null,React.createElement("a",{className:"external",href:this.props.children.URL,onClick:this.downloadFromURL},"Original source"),"\u00a0"));var g=React.createElement("span",null);null!=this.props.children.DOI&&(a=!0,g=React.createElement("span",null,React.createElement("a",{className:"external",href:"https://doi.org/"+this.props.children.DOI,onClick:this.downloadFromDOI,title:"Persistent link to the publication."},
"DOI"),"\u00a0"));React.createElement("span",null);var f=React.createElement("span",null),h=React.createElement("span",null);"JOUR"==this.props.children.RIS_TYPE&&(a=!0,f=this.buildWorldCatUrl(),React.createElement("span",null,React.createElement("a",{className:"external",href:f,title:"Check to see if your library has access to this publication.",onClick:this.downloadFromWorldCat},"WorldCat"),"\u00a0"),f=this.buildGoogleScholarUrl(),f=React.createElement("span",null,React.createElement("a",{className:"external",
href:f,onClick:this.downloadFromGoogleScholar},"Google Scholar"),"\u00a0"),this.props.children.PMCID&&(h=this.buildPMCIDUrl(),h=React.createElement("span",null,React.createElement("a",{className:"external",href:h,title:"Persistent link to the publication.",onClick:this.downloadFromPMCID},"PubMed Central"),"\u00a0")));var k=React.createElement("span",null);1==a&&(k=React.createElement("div",{className:"fullText"},React.createElement("strong",null,"Full Text Options:"),"\u00a0",b,d,e,c,g,f,h));return k},
buildRelatedStudies:function(){var a=React.createElement("span",null),b=this.props.searchConfig,c="icpsr";b.application&&(c=b.application);var d=c;b.module&&null!=b.module&&"null"!=b.module&&(d=b.module);this.props.children.STUDY_NO&&0<this.props.children.STUDY_NO.length&&(b=buildRelatedStudiesArray(this.props.children),0<b.length&&(a=b.map(function(a){var b=buildStudyUrl(d,null,a[0]);return React.createElement("li",{key:"study"+a[1]},React.createElement("a",{href:b},a[1])," (ICPSR ",a[0],")")}),
a=React.createElement("div",null,React.createElement("p",null,React.createElement("strong",null,"Studies related to this publication:")),React.createElement("ul",null,a))));return a},buildRelatedSeries:function(){var a=React.createElement("span",null),b=this.props.searchConfig,c="icpsr";b.application&&(c=b.application);var d=c;b.module&&null!=b.module&&"null"!=b.module&&(d=b.module);this.props.children.SERIES_NO&&0<this.props.children.SERIES_NO.length&&(a=buildRelatedSeriesArray(this.props).map(function(a,
b){var c=buildSeriesUrl(d,a[0]);return React.createElement("li",{key:"series"+a[1]},React.createElement("a",{href:c},a[1]))}),a=React.createElement("div",null,React.createElement("p",null,React.createElement("strong",null,"Series related to this publication:")),React.createElement("ul",null,a)));return a},buildBibUrl:function(){return"undefined"!=typeof bibliographyServerUrl?bibliographyServerUrl:this.props.bibliographyServerUrl},buildRISUrl:function(){return this.buildBibUrl()+"/api/1.0/citations/"+
this.props.children[this.props.searchConfig.idVariable]+"/schema/ris"},exportRIS:function(a){a.preventDefault();window.location=this.buildRISUrl()},buildEndNoteUrl:function(){return this.buildBibUrl()+"/api/1.0/citations/"+this.props.children[this.props.searchConfig.idVariable]+"/schema/endnote"},exportEndNote:function(a){a.preventDefault();window.location=this.buildEndNoteUrl()},buildExportLinks:function(){var a=this.buildRISUrl(),b=this.buildEndNoteUrl();return React.createElement("div",{className:"exportLinks"},
React.createElement("strong",null,"Export Options:"),"\u00a0",React.createElement("a",{href:a,onClick:this.exportRIS},"RIS"),"\u00a0",React.createElement("a",{href:b,onClick:this.exportEndNote},"EndNote"))},render:function(){console.log("Executing render for "+this.props.children[this.props.searchConfig.idVariable]);console.log(this.props);var a=this.props.start+this.props.resultIndex+1,b=this.props.children[this.props.searchConfig.idVariable],c=this.getIcon(),d="",d=this.props.children.HTML_CITATION&&
null!=this.props.children.HTML_CITATION?this.props.children.HTML_CITATION:buildCitationFromSolr(this.props),e=this.props.children[this.props.searchConfig.dateVariable],g=this.buildFullTextLinks(),f=this.buildExportLinks(),h=React.createElement("div",{className:"searchResult row",key:"searchResult"+a}),h=React.createElement("div",null),h=this.buildRelatedStudies(),k=this.buildRelatedSeries(),h=React.createElement("div",null,React.createElement("div",{className:"displayCitation",dangerouslySetInnerHTML:{__html:d}}),
g,f,React.createElement("div",{className:"relStudies"},h,k));"undefined"!==typeof saveSearchResult&&saveSearchResult?(d=React.createElement("div",{className:"text-nowrap px-2"},React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+b,onClick:this.addResultToSavedResults,title:"Select "+this.props.children.TITLE}),React.createElement("span",{className:"ps-2",title:"Type of publication"},c))),0<this.props.savedResults.length&&-1<this.props.savedResults.indexOf(b.toString())&&
(d=React.createElement("div",{className:"text-nowrap px-2"},React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+b,checked:"checked",onClick:this.removeResultFromSavedResults,title:"De-select "+this.props.children.TITLE}),React.createElement("span",{className:"ps-2",title:"Type of publication"},c)))),h=React.createElement("div",{className:"searchResult d-sm-flex border-bottom border-1 py-2",key:"searchResult"+a},d,React.createElement("div",{title:"Publication year",
className:"ps-2 px-sm-5"},e),React.createElement("div",{title:"Citation",className:"px-2"},h))):h=React.createElement("div",{className:"searchResult d-sm-flex border-bottom border-1 py-2",key:"searchResult"+a},React.createElement("div",{className:"ps-2",title:"Type of publication"},c),React.createElement("div",{title:"Publication year",className:"ps-2 px-sm-5"},e),React.createElement("div",{title:"Citation",className:"px-2"},h));return h}});
function buildRelatedStudiesArray(a){for(var b=[],c=0;c<a.STUDY_NO.length;c++)b[c]=[a.STUDY_NO[c],a.STUDYTITLE[c]];return b}function buildRelatedSeriesArray(a){for(var b=[],c=0;c<a.children.SERIES_NO.length;c++)b[c]=[a.children.SERIES_NO[c],a.children.SERIESTITLE[c]];return b}
var CoursesSearchResult=React.createClass({displayName:"CoursesSearchResult",getInitialState:function(){return null},componentDidMount:function(){if(this.isMounted()){var a=$(".result-summary"),b=$("#toggle-state");$("#toggle-switch").change(function(){this.checked?(a.show(),b.text("Visible")):(a.hide(),b.text("Hidden"))})}},addResultToSavedResults:function(){console.log("Executing addResultToSavedResults.");var a=this.props.savedResults;a[a.length]=this.props.children[this.props.searchConfig.idVariable].toString();
this.props.updateSavedResults(a)},removeResultFromSavedResults:function(){var a=this.props.savedResults,b=a.indexOf(this.props.children[this.props.searchConfig.idVariable].toString());a.splice(b,1);this.props.updateSavedResults(a)},render:function(){var a=Number(this.props.start)+Number(this.props.resultIndex)+1,b=this.props.children[this.props.searchConfig.idVariable],c="https://www.icpsr.umich.edu/web/sumprog/courses/"+b,d=React.createElement("div",{className:"col-md-0point5"},a,"."),e=React.createElement("div",
{className:"col-md-11point5"}),g=this.props.children[this.props.searchConfig.titleVariable],e="";this.props.children[this.props.searchConfig.dateVariable]&&(e=this.props.children[this.props.searchConfig.dateVariable].substr(0,10),e=new Date(this.props.children[this.props.searchConfig.dateVariable]),e=e.toLocaleString("default",{month:"long"})+" "+e.getFullYear());var f="";this.props.children[this.props.searchConfig.authorVariable]&&(f=this.props.children[this.props.searchConfig.authorVariable].map(function(a,
b){return(0<b?"; ":"")+a}));e=React.createElement("div",{className:"col-md-11point5"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-10"},React.createElement("div",null,React.createElement("strong",null,React.createElement("a",{href:c},g),"\u00a0"),React.createElement("br",null),f),React.createElement("div",{className:"collapse result-summary",id:"collapse"+b},React.createElement("div",{className:"displayCitation",dangerouslySetInnerHTML:{__html:this.props.children.TITLE}}))),
React.createElement("div",{className:"col-md-2"},e)));"undefined"!==typeof saveSearchResult&&saveSearchResult&&(d=React.createElement("div",{className:"col-md-0point5"},React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+b,onClick:this.addResultToSavedResults,title:"Select "+g}))),0<this.props.savedResults.length&&-1<this.props.savedResults.indexOf(b.toString())&&(d=React.createElement("div",{className:"col-md-0point5"},React.createElement("form",null,
React.createElement("input",{type:"checkbox",name:"searchResult"+b,checked:"checked",onClick:this.removeResultFromSavedResults,title:"De-select "+g})))));return React.createElement("div",{className:"searchResult row",key:"searchResult"+a},d,e)}}),DateFilter=React.createClass({displayName:"DateFilter",getInitialState:function(){return null},componentDidMount:function(){$("#dateFilterErrorMessage_"+this.props.filter.field).hide()},submitForm:function(a){a.preventDefault();if(this.validateForm()){a=
this.props.params;0<this.props.selectedValues.length&&(a=removeFilterFromParams(a,this.props.filter));var b=this.props.filter.field+":["+$("#startDate_"+this.props.filter.field).val()+"T00:00:00Z TO "+$("#endDate_"+this.props.filter.field).val()+"T23:59:59Z]";a.fq[a.fq.length]=b;a.start=0;this.props.logSearchEvent("add_filter_value_to_search",b);this.props.updateResults(a)}},clearFilter:function(){var a=removeFilterFromParams(this.props.params,this.props.filter);a.start=0;this.props.logSearchEvent("clear_filter",
"clear all previous year range filter");this.props.updateResults(a)},isValidDate:function(a){return a.match(/^\d{4}-\d{2}-\d{2}$/)&&(new Date(a)).getTime()?!0:!1},validateForm:function(){var a=$("#startDate_"+this.props.filter.field).val(),b=$("#endDate_"+this.props.filter.field).val();if(null==b||""==b){b=(new Date).getDate();10>b&&!b.toString().startsWith("0")&&(b="0"+b);var c=(new Date).getMonth()+1;10>c&&(c="0"+c);b=(new Date).getFullYear()+"-"+c+"-"+b;$("#endDate_"+this.props.filter.field).val(b)}if(""==
a||null==a)return $("#dateFilterErrorMessage_"+this.props.filter.field).html("You must provide the start date"),$("#dateFilterErrorMessage_"+this.props.filter.field).show(),!1;if(!this.isValidDate(a)||!this.isValidDate(b))return $("#dateFilterErrorMessage_"+this.props.filter.field).html("Start date and end date must be valid dates in YYYY-MM-DD format."),$("#dateFilterErrorMessage_"+this.props.filter.field).show(),!1;if(b<a)return $("#dateFilterErrorMessage_"+this.props.filter.field).html("End date should occur after or on the start date."),
$("#dateFilterErrorMessage_"+this.props.filter.field).show(),!1;$("#dateFilterErrorMessage_"+this.props.filter.field).hide();return!0},render:function(){var a=this.props.filter,b=this.props.selectedValues,c=React.createElement("form",null,React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"startDate_"+this.props.filter.field},"from"),React.createElement("input",{type:"text",className:"form-control",id:"startDate_"+this.props.filter.field,placeholder:"YYYY-MM-DD",
pattern:"\\d\\d\\d\\d-\\d\\d-\\d\\d"})),React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"endDate_"+this.props.filter.field},"to"),React.createElement("input",{type:"text",className:"form-control",id:"endDate_"+this.props.filter.field,placeholder:"YYYY-MM-DD",pattern:"\\d\\d\\d\\d-\\d\\d-\\d\\d"})),React.createElement("button",{className:"btn btn-primary my-2",onClick:this.submitForm},"Submit")),d="",e="collapsed";0<b.length?(d="show",e="",c=b[0].substring(1,
11),b=b[0].substring(25,35),c=React.createElement("div",null,React.createElement("span",{className:"facet-label"},React.createElement("a",{className:"facet_select",role:"button",href:"#",onClick:this.clearFilter},c," to ",b)),React.createElement("span",{className:"facet-count"},React.createElement("a",{className:"facet_select",role:"button",onClick:this.clearFilter},React.createElement("i",{className:"far fa-times-circle"},React.createElement("span",{className:"visually-hidden"},"remove filter")))))):
0==this.props.filterIndex&&(d="show",e="");return React.createElement("div",{className:"accordion my-2",id:"facet"+a.field},React.createElement("div",{className:"accordion-item"},React.createElement("h2",{className:"accordion-header",id:"facet"+a.field+a.dataType},React.createElement("button",{className:e+" accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+a.field+a.dataType,"aria-expanded":"false","aria-controls":"collapse"+a.field+a.dataType},a.label)),React.createElement("div",
{id:"collapse"+a.field+a.dataType,className:"accordion-collapse collapse "+d,"aria-labelledby":"facet"+a.field+a.dataType},React.createElement("div",{className:"accordion-body"},c,React.createElement("div",{className:"alert alert-danger",id:"dateFilterErrorMessage_"+this.props.filter.field}),React.createElement("a",{href:"#",className:"collapsed closeBTN",role:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+a.field+a.dataType,"aria-expanded":"false","aria-controls":"collapse"+a.field+
a.dataType},React.createElement("i",{className:"fas fa-chevron-circle-up"}),"\u00a0","Hide")))))}}),DateYearOnlyFilter=React.createClass({displayName:"DateYearOnlyFilter",getInitialState:function(){return null},componentDidMount:function(){$("#yearOnlyFilterErrorMessage").hide()},submitForm:function(a){a.preventDefault();if(this.validateForm()){a=this.props.params;0<this.props.selectedValues.length&&(a=removeFilterFromParams(a,this.props.filter));var b=this.props.filter.field+":["+$("#startDate").val()+
" TO "+$("#endDate").val()+"]";a.fq[a.fq.length]=b;a.start=0;this.props.logSearchEvent("add_filter_value_to_search",b);this.props.updateResults(a)}},clearFilter:function(){var a=removeFilterFromParams(this.props.params,this.props.filter);a.start=0;this.props.logSearchEvent("clear_filter","clear all previous year range filter");this.props.updateResults(a)},validateForm:function(){var a=$("#startDate").val().trim(),b=$("#endDate").val().trim();if(!(""!=a&&null!=a||""!=b&&null!=b))return $("#yearOnlyFilterErrorMessage").html("You must enter at least one year."),
$("#yearOnlyFilterErrorMessage").show(),!1;var c=/^[1-9]\d*$/,d=(new RegExp(c)).test(a);if(""==a||null==a)d=!0;c=(new RegExp(c)).test(b);if(""==b||null==b)c=!0;if(!d||!c)return $("#yearOnlyFilterErrorMessage").html("Dates must be valid years."),$("#yearOnlyFilterErrorMessage").show(),!1;d=Number(a);c=Number(b);if(""!=a&&(1E3>d||9999<a)||""!=b&&(1E3>c||9999<c))return $("#yearOnlyFilterErrorMessage").html("Dates must be valid years between 1000 and 9999."),$("#yearOnlyFilterErrorMessage").show(),!1;
if(""!=a&&""==b){b=(new Date).getFullYear();if(b>=a)return $("#endDate").val(b),!0;$("#yearOnlyFilterErrorMessage").html("You must provide both a start year and an end year, or at least a start year that is on or equal to this year.");$("#yearOnlyFilterErrorMessage").show();return!1}if(""==a&&""!=b)return $("#startDate").val(1E3),!0;if(b<a)return $("#startDate").val(b),$("#endDate").val(a),!0;$("#yearOnlyFilterErrorMessage").hide();return!0},render:function(){var a=this.props.filter,b=this.props.selectedValues,
c=React.createElement("form",null,React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"startDate"},"from"),React.createElement("input",{type:"text",className:"form-control",id:"startDate",placeholder:"YYYY",pattern:"\\d\\d\\d\\d"})),React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"endDate"},"to"),React.createElement("input",{type:"text",className:"form-control",id:"endDate",placeholder:"YYYY",pattern:"\\d\\d\\d\\d"})),React.createElement("button",
{className:"btn btn-primary my-2",onClick:this.submitForm},"Submit")),d="",e="collapsed";0<b.length?(d="show",e="",b=b[0].replace("[","").replace("]","").replace("TO","to"),c=React.createElement("div",null,React.createElement("span",{className:"facet-label"},React.createElement("a",{className:"facet_select",role:"button",href:"#",onClick:this.clearFilter},b)),"\u00a0",React.createElement("span",{className:"facet-count"},React.createElement("a",{className:"facet_select",role:"button",onClick:this.clearFilter},
React.createElement("i",{className:"far fa-times-circle"},React.createElement("span",{className:"visually-hidden"},"remove filter")))))):0==this.props.filterIndex&&(d="show",e="");return React.createElement("div",{className:"accordion my-2",id:"facet"+a.field},React.createElement("div",{className:"accordion-item"},React.createElement("h2",{className:"accordion-header",id:"facet"+a.field},React.createElement("button",{className:e+" accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+
a.field,"aria-expanded":"false","aria-controls":"collapse"+a.field},a.label)),React.createElement("div",{id:"collapse"+a.field,className:"accordion-collapse collapse "+d,"aria-labelledby":"facet"+a.field},React.createElement("div",{className:"accordion-body"},c,React.createElement("div",{className:"alert alert-danger",id:"yearOnlyFilterErrorMessage"}),React.createElement("a",{href:"#",className:"collapsed closeBTN",role:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+a.field,"aria-expanded":"false",
"aria-controls":"collapse"+a.field},React.createElement("i",{className:"fas fa-chevron-circle-up"}),"\u00a0","Hide")))))}}),DepositSearchResult=React.createClass({displayName:"DepositSearchResult",getInitialState:function(){return null},addResultToSavedResults:function(){var a=this.props.savedResults;a[a.length]=this.props.children[this.props.searchConfig.idVariable].toString();this.props.updateSavedResults(a)},removeResultFromSavedResults:function(){var a=this.props.savedResults,b=a.indexOf(this.props.children[this.props.searchConfig.idVariable].toString());
a.splice(b,1);this.props.updateSavedResults(a)},render:function(){var a=Number(this.props.start)+Number(this.props.resultIndex)+1,b=React.createElement("div",{className:"col-md-0point5"},a,"."),c=React.createElement("div",{className:"col-md-11point5"}),d=this.props.children[this.props.searchConfig.idVariable],e=this.props.children[this.props.searchConfig.titleVariable],c="";this.props.children[this.props.searchConfig.authorVariable]&&(c=this.props.children[this.props.searchConfig.authorVariable].map(function(a,
b){return(0<b?"; ":"")+a}));var g="";this.props.children.related_objects&&(g=this.props.children.related_objects.map(function(a,b){var c=a.split("|");return React.createElement("div",null,c[1]," - ",c[3])}));var f=depositServerUrl+"/projects/"+this.props.children.sip_project_id+"/versions/"+this.props.children.version_label;"V0"==this.props.children.version_label&&(f=depositServerUrl+"/workspace?goToPath\x3d"+encodeURIComponent(this.props.children.path)+"\x26goToLevel\x3dproject");var h=React.createElement("span",
null),k=React.createElement("span",null),l=React.createElement("span",null);this.props.children.created&&(h=React.createElement("p",null,React.createElement("strong",null,"Created: ")," ",this.props.children.created.substr(0,10)));this.props.children.submitted&&(k=React.createElement("p",null,React.createElement("strong",null,"Submitted: ")," ",this.props.children.submitted.substr(0,10)));this.props.children.modified&&(l=React.createElement("p",null,React.createElement("strong",null,"Modified: "),
" ",this.props.children.modified.substr(0,10)));h=React.createElement("div",null,h," ",k," ",l);k=React.createElement("div",null);l=this.props.children.last_diary_entry;null!=l&&""!=l&&(k=l.split("|"),k=React.createElement("div",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:k[2]}})," ",k[0],", ",k[1].substr(0,10)));l="";this.props.children.deposit_id&&(l="d"+this.props.children.deposit_id);c=React.createElement("div",{className:"col-md-11point5"},React.createElement("div",{className:"row"},
React.createElement("div",{className:"col-md-1"},React.createElement("a",{href:f},this.props.children.project_id),React.createElement("br",null),l),React.createElement("div",{className:"col-md-6"},React.createElement("strong",null,e),React.createElement("br",null),c),React.createElement("div",{className:"col-md-1"},this.props.children.deposit_status),React.createElement("div",{className:"col-md-1"},this.props.children.owner),React.createElement("div",{className:"col-md-1"},h),React.createElement("div",
{className:"col-md-1"},k),React.createElement("div",{className:"col-md-1"},g)));"undefined"!==typeof saveSearchResult&&saveSearchResult&&(b=React.createElement("div",{className:"col-md-0point5"},React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+d,onClick:this.addResultToSavedResults,title:"Select "+e}))),0<this.props.savedResults.length&&-1<this.props.savedResults.indexOf(d.toString())&&(b=React.createElement("div",{className:"col-md-0point5"},React.createElement("form",
null,React.createElement("input",{type:"checkbox",name:"searchResult"+d,checked:"checked",onClick:this.removeResultFromSavedResults,title:"De-select "+e})))));return React.createElement("div",{className:"searchResult row",key:"searchResult"+a},b,c)}}),DepositVersionLinks=React.createClass({displayName:"DepositVersionLinks",getInitialState:function(){return null},render:function(){console.log("Executing render.");console.log(this.props);var a=React.createElement("span",null,"n/a");this.props.children.related_objects&&
(a=this.props.children.related_objects.map(function(a,c){var d=a.split("|");return React.createElement("div",null,d[1]," - ",d[3])}));return React.createElement("div",null,a)}}),FacetQueryFilter=React.createClass({displayName:"FacetQueryFilter",getInitialState:function(){return null},render:function(){console.log("Executing render for FacetQueryFilter "+this.props.filter.field+".");var a=this.props.filter,b=this.props.updateResults,c=this.props.logSearchEvent,d=this.props.searchResults,e=this.props.selectedValues,
g=this.props.filter.customValues.map(function(g,f){var h=a.field+":"+g.value;return React.createElement(FacetQueryFilterValue,{params:d.responseHeader.params,logSearchEvent:c,key:f,filter:a,selectedValues:e,updateResults:b,value:h,label:g.label,count:d.facet_counts.facet_queries[h]})}),f="",h="collapsed";0<e.length?(f="show",h=""):0==this.props.filterIndex&&(f="show",h="");return React.createElement("div",{className:"accordion my-2",id:"facet"+a.field},React.createElement("div",{className:"accordion-item"},
React.createElement("h2",{className:"accordion-header",id:"facet"+a.field},React.createElement("button",{className:h+" accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+a.field,"aria-expanded":"false","aria-controls":"collapse"+a.field},a.label)),React.createElement("div",{id:"collapse"+a.field,className:"accordion-collapse collapse "+f,"aria-labelledby":"facet"+a.field},React.createElement("div",{className:"accordion-body"},React.createElement("ul",{className:"facet-values list-unstyled"},
g),React.createElement("a",{href:"#",className:"collapsed closeBTN",role:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+a.field,"aria-expanded":"false","aria-controls":"collapse"+a.field},React.createElement("i",{className:"fas fa-chevron-circle-up"}),"\u00a0","Hide")))))}}),FacetQueryFilterValue=React.createClass({displayName:"FacetQueryFilterValue",getInitialState:function(){return null},addFacetValue:function(){var a=this.props.params;a.start=0;a.fq[a.fq.length]=this.props.value;
this.props.logSearchEvent("add_filter_value_to_search",this.props.value);this.props.updateResults(a)},removeFacetValue:function(){for(var a=this.props.params,b=a.start=0;b<a.fq.length;b++)a.fq[b]==this.props.value&&a.fq.splice(b,1);this.props.logSearchEvent("remove_filter_value_to_search",this.props.value[0]);this.props.updateResults(a)},render:function(){var a=React.createElement("span",null);return a=0<this.props.selectedValues.length&&getValueFromFq(this.props.value)==this.props.selectedValues[0]?
React.createElement("li",{className:"d-flex justify-content-between"},React.createElement("span",{className:"facet-label"},React.createElement("a",{className:"facet_select",role:"button",href:"#",onClick:this.removeFacetValue},this.props.label)),React.createElement("span",{className:"facet-count"},React.createElement("a",{href:"#",className:"facet_select",role:"button",onClick:this.removeFacetValue},React.createElement("i",{className:"far fa-times-circle"},React.createElement("span",{className:"visually-hidden"},
"remove filter"))))):React.createElement("li",{className:"d-flex justify-content-between"},React.createElement("span",{className:"facet-label"},React.createElement("a",{className:"facet_select",role:"button",href:"#",onClick:this.addFacetValue},this.props.label)),React.createElement("span",{className:"facet-count"},this.props.count))}}),Filter=React.createClass({displayName:"Filter",getInitialState:function(){return null},viewAllInFacet:function(a){console.log("Reached viewAllInFacet.");a.preventDefault();
a=window.location.pathname.replace("/search/","/browse/facet/");console.log(a);window.location.pathname.includes("/search/default/search")&&(a=window.location.pathname.replace("/search/default/search/","/search/default/browse/facet/"));a+="/"+this.props.filter.browseAction;console.log(a);a=window.location.origin+a+"?";var b="",c=this.props.searchResults.responseHeader.params,d;for(d in c)if(c.hasOwnProperty(d))if("fq"==d)for(var e=0;e<c.fq.length;e++)b+="\x26"+getFieldFromFq(c.fq[e])+"\x3d"+encodeURIComponent(getValueFromFq(c.fq[e]));
else if("q"==d||"rows"==d||"start"==d||"sort"==d)b+="\x26"+d+"\x3d"+encodeURIComponent(c[d]);b=b.substr(1);this.props.logSearchEvent("view_all_within_filter","view all");window.location=a+b},processFacetValues:function(a){var b=[];for(i=0;i<a.length;i+=2){var c=[];c[0]=a[i];c[1]=a[i+1];b[i/2]=c}return b},render:function(){var a=this.props.filter;if(1>this.props.searchResults.facet_counts.facet_fields[a.field].length)return React.createElement("div",null);var b=this.props.selectedValues,c=this.props.searchResults.responseHeader.params,
d=this.props.updateResults,e=this.processFacetValues(this.props.searchResults.facet_counts.facet_fields[a.field]),g=React.createElement("li",null);if(0<b.length&&!this.props.filter.multiSelect)g=[],g[0]=b[0],g[1]=0,g=React.createElement(FilterValue,{logSearchEvent:this.props.logSearchEvent,params:c,selectedValues:b,key:i,value:g,filter:a,updateResults:d});else var f=this.props.logSearchEvent,g=e.map(function(e,g){if(g<a.maxFacetValues)return React.createElement(FilterValue,{logSearchEvent:f,params:c,
selectedValues:b,key:g,value:e,filter:a,updateResults:d})});var h=React.createElement("span",null);null!=a.browseAction&&e.length>a.maxFacetValues&&(h=React.createElement("div",{className:"float-end filterViewAll"},React.createElement("a",{href:"#",role:"button",onClick:this.viewAllInFacet},"view all")));0<b.length&&!a.multiSelect&&(h=React.createElement("span",null));var e="",k="collapsed";0<b.length?(e="show",k=""):0==this.props.filterIndex&&(e="show",k="");var l=React.createElement("span",null);
null!=a.moreInfo&&(l=React.createElement("li",null,React.createElement("span",{className:"facet-label"},React.createElement("a",{className:"facet_select",role:"button",href:a.moreInfo.value},React.createElement("i",{className:"fas fa-question-circle"}),"\u00a0",a.moreInfo.field))));var n=React.createElement("span",null),m="";a.visible||(n=React.createElement("span",null,"\u00a0",React.createElement("i",{className:"fa-solid fa-triangle-exclamation",title:"beta"},React.createElement("span",{className:"visually-hidden"},
"beta"))),m="do-not-display-filter");return React.createElement("div",{className:"accordion my-2 "+m,id:"facet"+a.field},React.createElement("div",{className:"accordion-item"},React.createElement("h2",{className:"accordion-header",id:"facet"+a.field},React.createElement("button",{className:k+" accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+a.field,"aria-expanded":"false","aria-controls":"collapse"+a.field},a.label," ",n)),React.createElement("div",{id:"collapse"+
a.field,className:"accordion-collapse collapse "+e,"aria-labelledby":"facet"+a.field},React.createElement("div",{className:"accordion-body"},React.createElement("ul",{className:"facet-values list-unstyled"},g,l),h,React.createElement("a",{href:"#",className:"collapsed closeBTN",role:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+a.field,"aria-expanded":"false","aria-controls":"collapse"+a.field},React.createElement("i",{className:"fas fa-chevron-circle-up"}),"\u00a0","Hide")))))}});
function unescapeValue(a){return a.replace(/\\/g,"")}
var Filters=React.createClass({displayName:"Filters",getInitialState:function(){return null},getSelectedValuesForFilter:function(a){for(var b=[],c=this.props.searchResults.responseHeader.params.fq,d=0,e=0;e<c.length;e++)a.field==c[e].substr(0,c[e].indexOf(":"))&&(b[d]=c[e].substr(c[e].indexOf(":")+1),d++);return b},render:function(){var a=React.createElement("div",null),b=this.props.searchConfig;if(null!=b&&null!=b.facetFields&&0<b.facetFields.length){var c=this.props.searchResults,d=this.props.searchResults.responseHeader.params,
e=this.props.updateResults,g=this.props.logSearchEvent,a=React.createElement("div",null),f=this.getSelectedValuesForFilter,a=b.facetFields.map(function(a,h){var n=React.createElement("span",{key:"filter"+h}),m=f(a),n=React.createElement(Filter,{key:"filter"+h,filterIndex:h,filter:a,selectedValues:m,updateResults:e,searchConfig:b,searchResults:c,logSearchEvent:g});"date"==a.dataType?n=React.createElement(DateFilter,{key:"filter"+h,filterIndex:h,filter:a,selectedValues:m,updateResults:e,params:d,logSearchEvent:g}):
"dateYearOnly"==a.dataType?n=React.createElement(DateYearOnlyFilter,{key:"filter"+h,filterIndex:h,filter:a,selectedValues:m,updateResults:e,params:d,logSearchEvent:g}):"facetQuery"==a.dataType&&(n=React.createElement(FacetQueryFilter,{key:"filter"+h,filterIndex:h,filter:a,updateResults:e,selectedValues:m,searchResults:c,logSearchEvent:g}));return n}),h=React.createElement("span",null);0<b.scope.length&&(h=React.createElement(Scope,{updateResults:e,searchConfig:b,params:c.responseHeader.params}));
a=React.createElement("div",{id:"facets",className:"facets sidenav"},React.createElement("h2",null,"Filters"),h,a)}return a}}),FilterValue=React.createClass({displayName:"FilterValue",getInitialState:function(){return null},addFacetValue:function(){var a=this.props.filter.field+":"+this.props.value[0],b=this.props.params;b.start=0;b.fq[b.fq.length]=a;this.props.logSearchEvent("add_filter_value_to_search",this.props.value[0]);this.props.updateResults(b)},numberWithCommas:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,
",")},removeFacetValue:function(){for(var a=this.props.filter.field+":"+this.props.value[0],b=this.props.params,c=b.start=0;c<b.fq.length;c++)b.fq[c]==a&&b.fq.splice(c,1);this.props.logSearchEvent("remove_filter_value_to_search",this.props.value[0]);this.props.updateResults(b)},render:function(){var a=!1;0<this.props.selectedValues.length&&-1<this.props.selectedValues.indexOf(this.props.value[0])&&(a=!0);var b=React.createElement("span",null),b=this.props.value[0],c=this.numberWithCommas(this.props.value[1]);
if(this.props.filter.customValues)for(var d=0;d<this.props.filter.customValues.length;d++){var e=this.props.filter.customValues[d];e.value==b&&(b=e.label)}else"pipeDelimited"==this.props.filter.dataType&&(b=b.substring(b.indexOf("|")+1).trim(),""==b||"null"==b)&&(b="empty");return"empty"==b?null:b=a?React.createElement("li",{className:"d-flex justify-content-between"},React.createElement("span",{className:"facet-label"},React.createElement("a",{className:"facet_select",role:"button",href:"#",onClick:this.removeFacetValue},
b)),React.createElement("span",{className:"facet-count"},React.createElement("a",{href:"#",className:"facet_select",role:"button",onClick:this.removeFacetValue},React.createElement("i",{className:"far fa-times-circle"},React.createElement("span",{className:"visually-hidden"},"remove filter"))))):React.createElement("li",{className:"d-flex justify-content-between"},React.createElement("span",{className:"facet-label"},React.createElement("a",{className:"facet_select",role:"button",href:"#",onClick:this.addFacetValue},
b)),React.createElement("span",{className:"facet-count"},c))}}),GroupedDepositSearchResult=React.createClass({displayName:"GroupedDepositSearchResult",getInitialState:function(){return null},addResultToSavedResults:function(){var a=this.props.savedResults;a[a.length]=this.props.children[this.props.searchConfig.idVariable].toString();this.props.updateSavedResults(a)},removeResultFromSavedResults:function(){var a=this.props.savedResults,b=a.indexOf(this.props.children[this.props.searchConfig.idVariable].toString());
a.splice(b,1);this.props.updateSavedResults(a)},render:function(){console.log("Executing render.");console.log(this.props);var a=Number(this.props.start)+Number(this.props.resultIndex)+1,b=React.createElement("div",null),c=this.props.children.groupValue,d="untitled project (according to solr)",b=this.props.children.doclist.docs[0];b.hasOwnProperty(this.props.searchConfig.titleVariable)&&(d=b[this.props.searchConfig.titleVariable]);var e="";b.hasOwnProperty(this.props.searchConfig.authorVariable)&&
(e=b[this.props.searchConfig.authorVariable].map(function(a,b){return(0<b?"; ":"")+a}));var g=this.props.children.doclist.docs.map(function(a,b){return React.createElement(GroupedDepositVersionSearchResult,{sipProjectId:c,index:b},a)}),b=React.createElement("div",{className:"depositRow px-0"},React.createElement("div",{className:"row mb-2"},React.createElement("div",{className:"col-md-1 p-1 p-md-0"},a,".","\u00a0","  ",React.createElement("strong",null,c)),React.createElement("div",{className:"col-md-3"},
React.createElement("strong",null,d)," ",React.createElement("br",null),e),React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-1"},b.owner),React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-1"}," ")),g);"undefined"!==typeof saveSearchResult&&saveSearchResult&&(React.createElement("div",{className:"col-md-1"},React.createElement("form",null,React.createElement("input",
{type:"checkbox",name:"searchResult"+c,onClick:this.addResultToSavedResults,title:"Select "+d}))),0<this.props.savedResults.length&&-1<this.props.savedResults.indexOf(c.toString())&&React.createElement("div",{className:"col-md-1"},React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+c,checked:"checked",onClick:this.removeResultFromSavedResults,title:"De-select "+d}))));return React.createElement("div",{className:"searchResult border-primary border-top border-4 row pt-3 mb-3",
key:"searchResult"+a},b)}}),GroupedDepositVersionSearchResult=React.createClass({displayName:"GroupedDepositVersionSearchResult",getInitialState:function(){return null},render:function(){console.log("Executing render.");0==this.props.index&&console.log(this.props);var a=this.props.children.version_label,b=depositServerUrl+"/projects/"+this.props.sipProjectId+"/versions/"+a;"V0"==a&&(b=depositServerUrl+"/workspace?goToPath\x3d"+encodeURIComponent(this.props.children.path)+"\x26goToLevel\x3dproject");
var c=React.createElement("span",null),d=React.createElement("span",null),e=React.createElement("span",null);this.props.children.created&&(c=React.createElement("p",null,React.createElement("strong",null,"Created:")," ",React.createElement("br",null),"  ","\u00a0","\u00a0","\u00a0",this.props.children.created.substr(0,10)));this.props.children.submitted&&(d=React.createElement("p",null,React.createElement("strong",null,"Submitted:")," ",React.createElement("br",null),"  ","\u00a0","\u00a0","\u00a0",
" ",this.props.children.submitted.substr(0,10)));this.props.children.modified&&(e=React.createElement("p",null,React.createElement("strong",null,"Modified:")," ",React.createElement("br",null),"  ","\u00a0","\u00a0","\u00a0"," ",this.props.children.modified.substr(0,10)));c=React.createElement("div",null,c," ",d," ",e);d=React.createElement("div",null);e=this.props.children.last_diary_entry;null!=e&&""!=e&&(d=e.split("|"),d=React.createElement("div",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:d[2]}}),
" ",d[0],", ",d[1].substr(0,10)));e="";this.props.children.deposit_id&&(e=" - d"+this.props.children.deposit_id);var g=React.createElement("div",null,React.createElement("span",null,"n/a"));this.props.children.hasOwnProperty("related_objects")&&(g=React.createElement(DepositVersionLinks,{sipProjectId:this.props.sipProjectId,versionLabel:a},this.props.children.related_objects));var f="depositStatus_"+this.props.children.deposit_status.replace(/\s/g,"_");return React.createElement("div",{className:"row versionRow py-2 border-top"},
React.createElement("div",{className:"col-md-1"}," "),React.createElement("div",{className:"col-md-3"},React.createElement("a",{href:b},a),e),React.createElement("div",{className:"col-md-2"},React.createElement("div",{className:"depositStatus "+f},this.props.children.deposit_status)),React.createElement("div",{className:"col-md-1"}," "),React.createElement("div",{className:"col-md-2"},c),React.createElement("div",{className:"col-md-2"},d),React.createElement("div",{className:"col-md-1"},g))}});$(document).ajaxStart(function(){$("#busy").addClass("busyModal")});
$(document).ajaxStop(function(){$("#busy").removeClass("busyModal")});
var formatDate=function(a){return null==a?"":(new Date(a)).toLocaleDateString()+" "+(new Date(a)).toLocaleTimeString()},Indexer=React.createClass({displayName:"Indexer",getInitialState:function(){return{pages:[],crawlUrl:"https://www.icpsr.umich.edu/",urlList:[]}},componentDidMount:function(){this.isMounted()&&$("#errorMsg").hide()},listUrls:function(a){a.preventDefault();a=this.state.crawlUrl;if(this.validateURL(a)){var b=$("input[name\x3d'crawlDepth']:checked").val();this.crawlAjax(a,15E3,b,!1)}},
indexPage:function(a){a.preventDefault();a=this.state.crawlUrl;this.validateURL(a)&&this.crawlAjax(a,3,0,!0)},deleteIndex:function(a){a.preventDefault();var b=this.state.crawlUrl;this.validateURL(b)&&$.ajax({url:searchUrl+"/staff/deleteIndex",type:"POST",dataType:"json",data:{deleteUrl:encodeURI(b)},success:function(a){alert("Index deleted successfully : "+b)}.bind(this),error:function(a,b,e){console.error(a,b,e)}.bind(this)})},deleteAll:function(a){a.preventDefault();$.ajax({url:searchUrl+"/staff/deleteAllIndex",
type:"DELETE",dataType:"json",success:function(a){alert("Index deleted successfully ")}.bind(this),error:function(a,c,d){console.error(a,c,d)}.bind(this)})},crawlIndexPage:function(a){a.preventDefault();a=this.state.crawlUrl;if(this.validateURL(a)){var b=$("input[name\x3d'crawlDepth']:checked").val();this.crawlAjax(a,15E3,b,!0)}},crawlAjax:function(a,b,c,d){$.ajax({url:searchUrl+"/staff/crawlURL",type:"POST",dataType:"json",async:!0,data:{url:encodeURI(a),pageCount:b,index:d,depth:c},success:function(a){null!=
a&&this.setState({urlList:a});alert("An email has been sent to you with details.")}.bind(this),error:function(a,b,c){alert("In case you don't see any result, an email will be sent to you with details.");console.error(a,b,c)}.bind(this)})},validateURL:function(a){if(null==a||""==a)return $("#errorMsg").html("The URL cannot be empty"),$("#errorMsg").show(),!1;if(/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/.test(a))return $("#errorMsg").hide(),!0;$("#errorMsg").html("The URL is not valid");
$("#errorMsg").show();return!1},render:function(){var a={value:this.state.crawlUrl,requestChange:function(a){this.setState({crawlUrl:a})}.bind(this)},b=this.listUrls,c=this.deleteIndex,d=this.deleteAll,e=this.crawlIndexPage,g=this.indexPage,f=React.createElement("div",null);0<this.state.urlList.length&&(f=this.state.urlList.map(function(a,b){return React.createElement("li",{key:b},a)}),f=React.createElement("ol",null,f));return React.createElement("article",null,React.createElement("div",{id:"errorMsg",
className:"alert alert-danger"}),React.createElement("h1",null,"List \x26 Index Webpages"),React.createElement("p",null,"Note that this tool can be a bit slow. Listing/Indexing URLs can take ~5 minutes."),React.createElement("form",{id:"indexerForm"},React.createElement("div",{className:"mb-3"},React.createElement("label",{className:"form-label col-md-2",htmlFor:"indexUrl"},"Page URL","\u00a0",React.createElement("span",{className:"text-danger"},"(required)"),":"),React.createElement("div",{className:"col-md-6"},
React.createElement("input",{type:"text",className:"form-control",name:"indexUrl",id:"indexUrl","aria-required":"true",required:"required",valueLink:a,placeholder:"Enter the page URL(https://www.icpsr.umich.edu/web)"}))),React.createElement("div",{className:"mb-3"},React.createElement("label",{className:"form-label col-md-2",htmlForm:"crawlDepth"},"Crawl Depth:"),React.createElement("div",{className:"col-md-6"},React.createElement("div",{className:"form-check form-check-inline"},React.createElement("label",
null,React.createElement("input",{type:"radio",id:"crawlDepth1",name:"crawlDepth",value:1})," 1","\u00a0","\u00a0")),React.createElement("div",{className:"form-check form-check-inline"},React.createElement("label",null,React.createElement("input",{type:"radio",id:"crawlDepth2",name:"crawlDepth",value:2})," 2","\u00a0","\u00a0")),React.createElement("div",{className:"form-check form-check-inline"},React.createElement("label",null,React.createElement("input",{type:"radio",id:"crawlDepth3",name:"crawlDepth",
value:3})," 3","\u00a0","\u00a0")),React.createElement("div",{className:"form-check form-check-inline"},React.createElement("label",null,React.createElement("input",{type:"radio",id:"crawlDepth4",name:"crawlDepth",value:4})," 4","\u00a0","\u00a0")),React.createElement("div",{className:"form-check form-check-inline"},React.createElement("label",null,React.createElement("input",{type:"radio",id:"crawlDepth5",name:"crawlDepth",value:5})," 5")))),React.createElement("div",{className:"mb-3"},React.createElement("button",
{role:"button",id:"listUrlsButton",className:"btn btn-primary my-2 ",onClick:b,title:"List URLs"},React.createElement("i",{className:"fa-solid fa-list"})," List URLs"),"\u00a0",React.createElement("button",{role:"button",id:"crawlIndexPageButton",className:"btn btn-primary my-2",onClick:e,title:"List and Index URLs (will index 1000 pages)"},React.createElement("i",{className:"fa-solid fa-list-tree"})," List and Index URLs"),"\u00a0",React.createElement("button",{role:"button",id:"indexPageButton",
className:"btn btn-primary my-2",onClick:g,title:"Index URL (will index just this page)"},React.createElement("i",{className:"fa-solid fa-rotate-left"})," Re-index Specified URL"),"\u00a0",React.createElement("button",{role:"button",id:"deleteIndexButton",className:"btn btn-danger my-2",onClick:c,title:"Delete Index"},React.createElement("i",{className:"fa-solid fa-trash-can"})," Delete Entry"),"\u00a0",React.createElement("button",{role:"button",id:"deleteAllButton",className:"btn btn-danger my-2",
onClick:d,title:"Delete All"},React.createElement("i",{className:"fa-solid fa-trash-can-list"})," Delete All"))),React.createElement("h2",{className:"mt-5"},"URLs (",this.state.urlList.length,")"),f,React.createElement("div",{id:"busy"}))}}),MostDownloaded=React.createClass({displayName:"MostDownloaded",getInitialState:function(){return{data:[]}},componentWillMount:function(){this.loadData()},loadData:function(){this.setState({data:[]})},render:function(){var a=this.props.icpsrwebURL;return React.createElement("div",
null,React.createElement("ol",null,React.createElement("li",null,React.createElement("a",{href:a+"/ICPSR/studies/25504"},"National Health and Nutrition Examination Survey (NHANES), 2005-2006")),React.createElement("li",null,React.createElement("a",{href:a+"/ICPSR/studies/21600"},"National Longitudinal Study of Adolescent to Adult Health (Add Health), 1994-2008 [Public Use]")),React.createElement("li",null,React.createElement("a",{href:a+"/ICPSR/studies/25505"},"National Health and Nutrition Examination Survey (NHANES), 2007-2008")),
React.createElement("li",null,React.createElement("a",{href:a+"/ICPSR/studies/09028"},"Uniform Crime Reporting Program Data [United States]: 1975-1997")),React.createElement("li",null,React.createElement("a",{href:a+"/ICPSR/studies/34312"},"Maternal Lifestyle Study in Four Sites in the United States, 1993-2011")),React.createElement("li",null,React.createElement("a",{href:a+"/ICPSR/studies/24881"},"Youth Development Study, 1988-2011 [St. Paul, Minnesota]")),React.createElement("li",null,React.createElement("a",
{href:a+"/ICPSR/studies/31622"},"Fragile Families and Child Wellbeing Study [Public Use Data]")),React.createElement("li",null,React.createElement("a",{href:a+"/ICPSR/studies/25502"},"National Health and Nutrition Examination Survey (NHANES), 2001-2002"))))}}),NoCitationResults=React.createClass({displayName:"NoCitationResults",getInitialState:function(){return null},render:function(){console.log("Executing render.");return React.createElement("div",null,React.createElement("div",{className:"row"},
React.createElement("div",{className:"col-md-2"},"\u00a0"),React.createElement("div",{className:"col-md-10"},React.createElement("h1",null,"Search Results"),React.createElement(SearchForm,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults,updateResults:this.props.updateResults,logSearchEvent:this.props.logSearchEvent}),React.createElement(SearchResultsTabs,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults}),React.createElement("div",{id:"noResultsNotes"},
React.createElement("p",null,React.createElement("strong",null,"No publications were found that match your criteria.")),React.createElement("ul",null,React.createElement("li",null,"Try broadening your search and removing filters."),React.createElement("li",null,"Check your spelling."),React.createElement("li",null,"Still no luck? Email ",React.createElement("a",{href:"mailto:bibliography@icpsr.umich.edu"},"bibliography@icpsr.umich.edu")," or ",React.createElement("a",{href:"https://www.icpsr.umich.edu/web/pages/ICPSR/citations/submit.html"},
"submit a citation")," to our bibliography."))))))}}),NoCourseResults=React.createClass({displayName:"NoCourseResults",getInitialState:function(){return null},render:function(){return React.createElement("div",null,React.createElement("aside",{className:"col-md-2"}," "),React.createElement("article",{className:"col-md-10"},React.createElement("h1",null,"Search Results"),React.createElement(SearchForm,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults,updateResults:this.props.updateResults,
logSearchEvent:this.props.logSearchEvent}),React.createElement(SearchResultsTabs,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults}),React.createElement("div",{id:"noResultsNotes"},React.createElement("div",{className:"col-sm-8"},React.createElement("p",null,React.createElement("strong",null,"No courses were found that match your criteria.")),React.createElement("ul",null,React.createElement("li",null,"Try broadening your search and removing filters."),React.createElement("li",
null,"Check your spelling."))),React.createElement("div",{className:"col-sm-4  icpsrErrorCat"},React.createElement("span",{className:"error-cat-studies"}),React.createElement("p",{className:"text-center error-cat-studies-span-smaller"},"The results you are looking ",React.createElement("br",null),React.createElement("span",{className:"error-cat-studies-span-bold"},"fur cannot be found"))))))}}),NoDepositResults=React.createClass({displayName:"NoDepositResults",getInitialState:function(){return null},
render:function(){return React.createElement("div",null,React.createElement("aside",{className:"col-md-2"}," "),React.createElement("article",{className:"col-md-10"},React.createElement("h1",null,"Search Results"),React.createElement(SearchForm,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults,updateResults:this.props.updateResults,logSearchEvent:this.props.logSearchEvent}),React.createElement(SearchResultsTabs,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults}),
React.createElement("div",{id:"noResultsNotes"},React.createElement("div",{className:"col-sm-8"},React.createElement("p",null,React.createElement("strong",null,"No deposits were found that match your criteria.")),React.createElement("ul",null,React.createElement("li",null,"Try broadening your search and removing filters."),React.createElement("li",null,"Check your spelling."))),React.createElement("div",{className:"col-sm-4  icpsrErrorCat"},React.createElement("span",{className:"error-cat-studies"}),
React.createElement("p",{className:"text-center error-cat-studies-span-smaller"},"The results you are looking ",React.createElement("br",null),React.createElement("span",{className:"error-cat-studies-span-bold"},"fur cannot be found"))))))}}),NoResourceResults=React.createClass({displayName:"NoResourceResults",getInitialState:function(){return null},render:function(){return React.createElement("div",null,React.createElement("aside",{className:"col-md-2"}," "),React.createElement("article",{className:"col-md-10"},
React.createElement("h1",null,"Search Results"),React.createElement(SearchForm,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults,updateResults:this.props.updateResults,logSearchEvent:this.props.logSearchEvent}),React.createElement(SearchResultsTabs,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults}),React.createElement("div",{id:"noResultsNotes"},React.createElement("p",null,React.createElement("strong",null,"No resources were found that match your criteria.")),
React.createElement("ul",null,React.createElement("li",null,"Try broadening your search and removing filters."),React.createElement("li",null,"Check your spelling."),React.createElement("li",null,"Still no luck? Email ",React.createElement("a",{href:"mailto:ICPSR-help@umich.edu"},"ICPSR-help@umich.edu")," or ",React.createElement("a",{href:"https://www.icpsr.umich.edu/web/pages/deposit/suggest.html"},"suggest a data collection")," that we should acquire.")))))}}),NoResults=React.createClass({displayName:"NoResults",
getInitialState:function(){return null},render:function(){console.log("Executing render.");console.log(this.props);var a="Find Data",b=this.props.searchConfig;null!=b.defaultTitle&&""!=b.defaultTitle&&(a=b.defaultTitle);return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-10"},React.createElement("h1",null,a),React.createElement(SearchForm,{searchConfig:this.props.searchConfig,
searchResults:this.props.searchResults,updateResults:this.props.updateResults,logSearchEvent:this.props.logSearchEvent}))))}}),NoSeriesResults=React.createClass({displayName:"NoSeriesResults",getInitialState:function(){return null},render:function(){return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-10"},React.createElement("h1",null,"Search Results"),React.createElement(SearchForm,
{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults,updateResults:this.props.updateResults,logSearchEvent:this.props.logSearchEvent}),React.createElement(SearchResultsTabs,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults}),React.createElement("div",{id:"noResultsNotes"},React.createElement("p",null,React.createElement("strong",null,"No series were found that match your criteria.")),React.createElement("ul",null,React.createElement("li",null,"Try broadening your search and removing filters."),
React.createElement("li",null,"Check your spelling."),React.createElement("li",null,"Still no luck? Email ",React.createElement("a",{href:"mailto:ICPSR-help@umich.edu"},"ICPSR-help@umich.edu")," or ",React.createElement("a",{href:"https://www.icpsr.umich.edu/web/pages/deposit/suggest.html"},"suggest a data collection")," that we should acquire."))))))}}),NoStudyResults=React.createClass({displayName:"NoStudyResults",getInitialState:function(){return null},buildOpenICPSRLink:function(){var a="https://www.icpsr.umich.edu/web/ICPSR/search/studies"+
window.location.search;return openICPSRLink="openicpsr"==window.location.pathname.substring(1,10)?React.createElement("div",null,React.createElement("li",null,React.createElement("a",{className:"openICPSRLink ",id:"openICPSRLink",href:a},"View the results of this search"),"\u00a0in the main ICPSR catalog.")):null},render:function(){var a=React.createElement("div",null),a=this.buildOpenICPSRLink();return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",
{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-10"},React.createElement("h1",null,"Search Results"),React.createElement(SearchForm,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults,updateResults:this.props.updateResults,logSearchEvent:this.props.logSearchEvent}),React.createElement(SearchResultsTabs,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults}),React.createElement("div",{id:"noResultsNotes"},React.createElement("div",
{className:"col-sm-8"},React.createElement("p",null,React.createElement("strong",null,"No studies were found that match your criteria.")),React.createElement("ul",null,React.createElement("li",null,"Try broadening your search and removing filters."),React.createElement("li",null,"Check your spelling."),a,React.createElement("li",null,"Still no luck? Email ",React.createElement("a",{href:"mailto:ICPSR-help@umich.edu"},"ICPSR-help@umich.edu")," or ",React.createElement("a",{href:"https://www.icpsr.umich.edu/web/pages/deposit/suggest.html"},
"suggest a data collection")," that we should acquire."))),React.createElement("div",{className:"col-sm-4  icpsrErrorCat"},React.createElement("span",{className:"error-cat-studies"}),React.createElement("p",{className:"text-center error-cat-studies-span-smaller"},"The results you are looking ",React.createElement("br",null),React.createElement("span",{className:"error-cat-studies-span-bold"},"fur cannot be found")))))))}}),NoVariableResults=React.createClass({displayName:"NoVariableResults",getInitialState:function(){return null},
render:function(){return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"}," "),React.createElement("div",{className:"col-md-10"},React.createElement("h1",null,"Search Results"),React.createElement(SearchForm,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults,updateResults:this.props.updateResults,logSearchEvent:this.props.logSearchEvent}),React.createElement(SearchResultsTabs,{searchConfig:this.props.searchConfig,
searchResults:this.props.searchResults}),React.createElement("div",{id:"noResultsNotes"},React.createElement("div",{className:"col-sm-6"},React.createElement("p",null,React.createElement("strong",null,"No variables were found that match your criteria.")),React.createElement("ul",null,React.createElement("li",null,"Try broadening your search and removing filters."),React.createElement("li",null,"Check your spelling."),React.createElement("li",null,"Still no luck? Email ",React.createElement("a",{href:"mailto:ICPSR-help@umich.edu"},
"ICPSR-help@umich.edu"),"."))),React.createElement("div",{className:"col-sm-6  icpsrErrorCat"},React.createElement("span",{className:"error-cat-vars"}),React.createElement("p",{className:"text-center"},"Mwahahaa. I has all the variables!"))))))}}),NoWebpageResults=React.createClass({displayName:"NoWebpageResults",getInitialState:function(){return null},render:function(){return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-2"},
" "),React.createElement("div",{className:"col-md-10"},React.createElement("h1",null,"Search Results"),React.createElement(SearchForm,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults,updateResults:this.props.updateResults,logSearchEvent:this.props.logSearchEvent}),React.createElement(SearchResultsTabs,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults}),React.createElement("div",{id:"noResultsNotes"},React.createElement("div",{className:"col-sm-8"},
React.createElement("p",null,React.createElement("strong",null,"No webpages were found that match your criteria.")),React.createElement("ul",null,React.createElement("li",null,"Try broadening your search and removing filters."),React.createElement("li",null,"Check your spelling."),React.createElement("li",null,"Still no luck? Email ",React.createElement("a",{href:"mailto:ICPSR-help@umich.edu"},"ICPSR-help@umich.edu")," or ",React.createElement("a",{href:"https://www.icpsr.umich.edu/web/pages/deposit/suggest.html"},
"suggest a data collection")," that we should acquire."))),React.createElement("div",{className:"col-sm-4  icpsrErrorCat"},React.createElement("span",{className:"error-cat-website"}),React.createElement("p",{className:"text-center"},"If you searched for LOLCAT, ",React.createElement("br",null)," you\u2019re in the right spot!"))))))}}),PaginationButtons=React.createClass({displayName:"PaginationButtons",getInitialState:function(){return null},updateCurrentPage:function(a){SearchPager.current=a;this.props.updateCurrentPage(a)},
render:function(){SearchPager.totalResults=this.props.totalResults;SearchPager.resultsPerPage=this.props.resultsPerPage;SearchPager.current=this.props.currentPage;var a=React.createElement("div",{className:"btn-toolbar pull-right",role:"toolbar"});if(SearchPager.shouldPage()){a=SearchPager.getCurrent();SearchPager.getTotalPages();var b=React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#",title:"first page of results",onClick:this.updateCurrentPage.bind(this,
1),disabled:1==a,tabIndex:1==a?"-1":" "},React.createElement("span",{"aria-hidden":"true"},React.createElement("i",{className:"fa-solid fa-backward-step"})),React.createElement("span",{className:"visually-hidden"},"first page of results"))),c=React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#",title:"previous page of results",onClick:this.updateCurrentPage.bind(this,a-1),disabled:!SearchPager.hasPage(a-1),tabIndex:SearchPager.hasPage(a-1)?" ":"-1"},
React.createElement("span",{"aria-hidden":"true"},React.createElement("i",{className:"fa-solid fa-caret-left fa-lg"})),React.createElement("span",{className:"visually-hidden"},"previous page of results"))),d=React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#",title:"next page of results",onClick:this.updateCurrentPage.bind(this,a+1),disabled:!SearchPager.hasPage(a+1),tabIndex:SearchPager.hasPage(a+1)?" ":"-1"},React.createElement("span",{"aria-hidden":"true"},
React.createElement("i",{className:"fa-solid fa-caret-right fa-lg"})),React.createElement("span",{className:"visually-hidden"},"next page of results"))),e=React.createElement("li",{className:"page-item"},React.createElement("a",{className:"page-link",href:"#",title:"last page of results",onClick:this.updateCurrentPage.bind(this,SearchPager.getTotalPages()),disabled:!SearchPager.hasPage(SearchPager.getTotalPages()),tabIndex:SearchPager.hasPage(SearchPager.getTotalPages())?" ":"-1"},React.createElement("span",
{"aria-hidden":"true"},React.createElement("i",{className:"fa-solid fa-forward-step"})),React.createElement("span",{className:"visually-hidden"},"last page of results"))),g=[],f=SearchPager.getTotalPages()-a,h=0;4>f&&(h=4-f);for(i=a-h;i<=a+4;i++)i==a?g.push(React.createElement("li",{className:"page-item active"},React.createElement("a",{href:"#",className:"page-link",key:"middleButton"+i},i))):SearchPager.hasPage(i)&&g.push(React.createElement("li",{className:"page-item"},React.createElement("a",
{href:"#",className:"page-link",onClick:this.updateCurrentPage.bind(this,i),key:"middleButton"+i},i)));a=React.createElement("nav",null,React.createElement("ul",{className:"pagination"},b,c,g,d,e))}return a}}),SearchPager={totalResults:0,resultsPerPage:25,current:1,getCurrent:function(){return this.current},setCurrent:function(a){this.current=a},shouldPage:function(){return this.totalResults>this.resultsPerPage},hasPage:function(a){return!this.isEmpty(a)},isEmpty:function(a){a=(a-1)*this.resultsPerPage;
return a>this.totalResults-1||0>a?!0:!1},getBeginIndex:function(a){return(a-1)*this.resultsPerPage},getTotalPages:function(){var a=0;0<this.totalResults&&(a=Math.ceil(this.totalResults/this.resultsPerPage));return a}},PubTypeLegend=React.createClass({displayName:"PubTypeLegend",getInitialState:function(){return null},render:function(){return React.createElement("div",{id:"publicationsTypeLegend"},React.createElement("div",{className:"row"},React.createElement("p",null,"Legend:"),React.createElement("div",
{className:"col-md-4"},React.createElement("i",{className:"fa-light fa-film publicationsIcon fa-lg",title:"Audiovisual Material"},React.createElement("span",{className:"visually-hidden"},"Audiovisual Material")),"\u00a0","Audiovisual Material",React.createElement("br",null),React.createElement("i",{className:"fa-light fa-book publicationsIcon fa-lg",title:"Book"},React.createElement("span",{className:"visually-hidden"},"Book")),"\u00a0","Book",React.createElement("br",null),React.createElement("i",
{className:"fa-light fa-book-open publicationsIcon fa-lg",title:"Book Section"},React.createElement("span",{className:"visually-hidden"},"Book Section")),"\u00a0","Book","\u00a0","Section",React.createElement("br",null),React.createElement("i",{className:"fa-light fa-podium publicationsIcon fa-lg",title:"Conference Presentations"},React.createElement("span",{className:"visually-hidden"},"Conference Presentation")),"\u00a0","Conference","\u00a0","Presentation"),React.createElement("div",{className:"col-md-4"},
React.createElement("i",{className:"fa-light fa-folder-open publicationsIcon fa-lg",title:"Document"},React.createElement("span",{className:"visually-hidden"},"Document")),"\u00a0","Document",React.createElement("br",null),React.createElement("i",{className:"fa-light fa-desktop publicationsIcon fa-lg",title:"Electronic Source"},React.createElement("span",{className:"visually-hidden"},"Electronic Source")),"\u00a0","Electronic","\u00a0","Source",React.createElement("br",null),React.createElement("i",
{className:"fa-light fa-notebook publicationsIcon fa-lg",title:"Journal Article"},React.createElement("span",{className:"visually-hidden"},"Journal Article")),"\u00a0","Journal","\u00a0","Article",React.createElement("br",null),React.createElement("i",{className:"fa-light fa-book-open-cover publicationsIcon fa-lg",title:"Magazine Article"},React.createElement("span",{className:"visually-hidden"},"Magazine Article")),"\u00a0","Magazine","\u00a0","Article"),React.createElement("div",{className:"col-md-4"},
React.createElement("i",{className:"fa-light fa-newspaper publicationsIcon fa-lg",title:"Newspaper Article"},React.createElement("span",{className:"visually-hidden"},"Newspaper Article")),"\u00a0","Newspaper","\u00a0","Article",React.createElement("br",null),React.createElement("i",{className:"fa-light fa-file publicationsIcon fa-lg",title:"Report"},React.createElement("span",{className:"visually-hidden"},"Report")),"\u00a0","Report",React.createElement("br",null),React.createElement("i",{className:"fa-light fa-graduation-cap publicationsIcon fa-lg",
title:"Thesis"},React.createElement("span",{className:"visually-hidden"},"Thesis")),"\u00a0","Thesis")))}}),ResourceCitationBox=React.createClass({displayName:"ResourceCitationBox",getInitialState:function(){return{savedResults:[]}},componentDidMount:function(){console.log("Executing componentDidMount.");if(this.isMounted()){var a=searchServerUrl+"/api/1.0/savedResults/"+requesterSessionId+"/resources/view";console.log(a);$.ajax({url:a,contentType:"application/json",type:"GET",crossDomain:!0,success:function(a){console.log("Successful ajax.");
null!=a&&(console.log("Received data."),console.log(a),this.setState({savedResults:a}),savedResults=a)}.bind(this),error:function(a,c,d){console.error(a,c,d)}})}},addResultToSavedResults:function(){var a=this.state.savedResults;a[a.length]=this.props.resourceId.toString();this.updateSavedResults(a)},removeResultFromSavedResults:function(){var a=this.state.savedResults,b=a.indexOf(this.props.resourceId.toString());a.splice(b,1);this.updateSavedResults(a)},clearSavedResults:function(){this.updateSavedResults([])},
updateSavedResults:function(a){console.log("Executing updateSavedResults; received "+a);var b=searchServerUrl+"/api/1.0/savedResults/"+requesterSessionId+"/resources/update";console.log(b);$.ajax({url:b,contentType:"application/json;charset\x3dUTF-8",type:"POST",data:JSON.stringify(a),crossDomain:!0,success:function(a){console.log("Successful ajax.");null!=a&&(console.log("Received data. Setting savedResults to: "),console.log(a),this.setState({savedResults:a}))}.bind(this),error:function(a,b,e){console.error(a,
b,e)}})},render:function(){console.log("Executing render.");var a=this.state.savedResults,b=!1;0<a.length&&-1<a.indexOf(this.props.resourceId.toString())&&(b=!0);var c=React.createElement("div",{id:"citation-link"},React.createElement("a",{href:"#",onClick:this.addResultToSavedResults},"Add to Citations List"));b&&(c=React.createElement("div",{id:"citation-link"},React.createElement("a",{href:"#",onClick:this.removeResultFromSavedResults},"Remove from Citations List")));b=React.createElement("div",
{id:"citation-count"},"0 Citations Selected.");0<a.length&&(b="/childcare/viewCitations?redirectTo\x3d"+encodeURIComponent("/childcare/resources/"+this.props.resourceId)+"\x26savedResults\x3d"+this.state.savedResults,b=React.createElement("div",{id:"citation-count"},React.createElement("a",{href:b},"Download Selected Citations")," ",React.createElement("br",null),"(",a.length," citations - ",React.createElement("a",{href:"#",onClick:this.clearSavedResults},"remove all"),")"));return React.createElement("div",
null,React.createElement("p",null,React.createElement("strong",null,"Export Citation")),React.createElement("ul",null,React.createElement("li",null,c),React.createElement("li",null,b)))}}),ResourceSearchResult=React.createClass({displayName:"ResourceSearchResult",getInitialState:function(){return null},addResultToSavedResults:function(){var a=this.props.savedResults;a[a.length]=this.props.children[this.props.searchConfig.idVariable].toString();this.props.updateSavedResults(a)},removeResultFromSavedResults:function(){var a=
this.props.savedResults,b=a.indexOf(this.props.children[this.props.searchConfig.idVariable].toString());a.splice(b,1);this.props.updateSavedResults(a)},downloadFullTextPDFFile:function(a){a.preventDefault();window.location="/childcare/resources/"+this.props.children[this.props.searchConfig.idVariable]+"/pdf"},downloadFullTextDOI:function(a){a.preventDefault();window.location="/childcare/resources/"+this.props.children[this.props.searchConfig.idVariable]+"/doi"},downloadFullTextMultimedia:function(a){a.preventDefault();
window.location="/childcare/resources/"+this.props.children[this.props.searchConfig.idVariable]+"/source"},downloadFullTextSource:function(a){a.preventDefault();window.location="/childcare/resources/"+this.props.children[this.props.searchConfig.idVariable]+"/source"},render:function(){var a=Number(this.props.start)+Number(this.props.resultIndex)+1,b=this.props.children[this.props.searchConfig.idVariable],c="/childcare/resources/"+b,d=this.props.children[this.props.searchConfig.titleVariable],e="";
this.props.children[this.props.searchConfig.authorVariable]&&(e=this.props.children[this.props.searchConfig.authorVariable].map(function(a,b){return(0<b?"; ":"")+a}));var g=React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+b,onClick:this.addResultToSavedResults,title:"Select "+d}));0<this.props.savedResults.length&&-1<this.props.savedResults.indexOf(b.toString())&&(g=React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+
b,checked:"checked",onClick:this.removeResultFromSavedResults,title:"De-select "+d})));b=this.props.children.source;null!=b&&-1<$.inArray(b,"Retrieved ")&&(b=this.props.children.source.substring(0,this.props.children.source.indexOf("Retrieved ")));var f=React.createElement("span",null);null!=b&&b.includes("Child Care \x26 Early Education Research Connections")&&(f=React.createElement("img",{src:this.props.searchServerUrl+"/resources/images/cceerc-produced.gif",alt:"RC"}));var h=React.createElement("span",
null);"yes"==this.props.children.peerReviewed&&(h=React.createElement("img",{src:this.props.searchServerUrl+"/resources/images/peer-reviewed.gif",alt:"*"}));var k=React.createElement("span",null),l=this.props.children.fullText;null!=l&&"yes"==l&&"Data Sets"!=this.props.children.resourceType&&(l=this.props.searchServerUrl+"/resources/images/get-full-text-small.png",null!=this.props.children.pdfFileName&&0<this.props.children.pdfFileName.length&&this.props.children.rightAccess&&3<Number(this.props.children.rightAccess)?
k=React.createElement("a",{href:"#",target:"_new",onClick:this.downloadFullTextPDFFile},React.createElement("img",{src:l,alt:"get fulltext"})):null!=this.props.children["resourceArticle.doi"]&&""!=this.props.children["resourceArticle.doi"]?k=React.createElement("a",{href:"#",target:"_new",onClick:this.downloadFullTextDOI},React.createElement("img",{src:l,alt:"get fulltext"})):"Multimedia"==this.props.children.resourceType?(l=this.props.searchServerUrl+"/resources/images/view-webinar-small.png",k=
React.createElement("a",{href:"#",target:"_new",onClick:this.downloadFullTextMultimedia},React.createElement("img",{src:l,alt:"get fulltext"}))):this.props.children.availability&&0<this.props.children.availability.length&&(k=React.createElement("a",{href:"#",target:"_new",onClick:this.downloadFullTextSource},React.createElement("img",{src:l,alt:"get fulltext"}))));return React.createElement("div",{className:"searchResult row",key:"searchResult"+a},React.createElement("div",{className:"col-md-1 rc-icons"},
React.createElement("span",{className:"cceerc-produced"},f,"\u00a0"),React.createElement("span",{className:"peer-reviewed"},h,"\u00a0"),React.createElement("span",{className:"result-checkbox"},a+".","\u00a0",g)),React.createElement("div",{className:"col-md-9"},React.createElement("p",null,React.createElement("a",{href:c},d),"\u00a0",React.createElement("br",null),e,", ",this.props.children.issueDateDisplay,React.createElement("br",null),b),React.createElement("p",null,this.props.children.description)),
React.createElement("div",{className:"col-md-2"},this.props.children.resourceType,React.createElement("br",null),k))}}),ResultsPerPageMenu=React.createClass({displayName:"ResultsPerPageMenu",getInitialState:function(){return null},updateResultsPerPage:function(a){this.props.updateResultsPerPage(a.target.value)},render:function(){var a=React.createElement("span",null);1<this.props.searchConfig.recordsPerPageOptions.length&&(a=this.props.searchConfig.recordsPerPageOptions.map(function(a,c){return React.createElement("option",
{value:a,key:"recordsPerPageOption"+c},a)}),a=React.createElement("form",{className:"form-inline",action:"",method:"get"},React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"resultsPerPage"},"Per page:")," ",React.createElement("select",{name:"resultsPerPage",value:this.props.params.rows,onChange:this.updateResultsPerPage,className:"form-control input-sm",id:"resultsPerPage"},a))));return a}}),ResultSummariesToggle=React.createClass({displayName:"ResultSummariesToggle",
getInitialState:function(){return null},render:function(){return"studies"==this.props.searchConfig.searchType?React.createElement("div",null,React.createElement("div",{id:"resultSummariesToggle"},React.createElement("div",{className:"form-check form-switch"},React.createElement("label",{className:"form-check-label",htmlFor:"toggle-switch"},"Summaries: "),React.createElement("input",{className:"form-check-input",type:"checkbox",id:"toggle-switch"}),"\u00a0",React.createElement("span",{id:"toggle-state"},
"Hidden")))):"publications"==this.props.searchConfig.searchType?React.createElement("div",{id:"resultSummariesToggle"},React.createElement("div",{className:"form-check form-switch"},React.createElement("label",{className:"form-check-label related-publications-toggle",htmlFor:"related-publications-toggle-switch"},"Related","\u00a0","Studies/Series:"),React.createElement("input",{className:"form-check-input",type:"checkbox",id:"related-publications-toggle-switch"}),"\u00a0",React.createElement("span",
{id:"relStudies-toggle-state"},"Visible"))):null}}),Scope=React.createClass({displayName:"Scope",getInitialState:function(){return null},render:function(){var a=this.props.searchConfig.scope,b=React.createElement("span",null),c=!1;for(i=0;i<a.length;i++)a[i].visible&&(c=!0);c&&(a=a.map(function(a,b){if(a.visible)return React.createElement(ScopeValue,{key:b,value:a})}),b=React.createElement("div",{className:"panel panel-default facet_limit blacklight-format",id:"facetScope"},React.createElement("div",
{className:"collapsed collapse-toggle panel-heading","data-toggle":"collapse","data-target":"#collapseScope"},React.createElement("p",{className:"panel-title facet-field-heading"},React.createElement("a",{href:"#",role:"button","data-toggle":"collapse","data-parent":"#facets",role:"button"},React.createElement("i",{className:"fas fa-chevron-circle-down"}),React.createElement("i",{className:"fas fa-chevron-circle-up"}),"\u00a0","Scope"))),React.createElement("div",{id:"collapseScope",className:"panel-collapse collapse in",
role:"tabpanel"},React.createElement("div",{className:"panel-body"},React.createElement("ul",{className:"facet-values list-unstyled"},a),React.createElement("a",{role:"button","data-toggle":"collapse",href:"#facetScope","aria-expanded":"true","aria-controls":"facetScope",className:"closeBTN"},React.createElement("i",{className:"fas fa-chevron-circle-up"}),"\u00a0","Hide")))));return b}}),ScopeValue=React.createClass({displayName:"ScopeValue",getInitialState:function(){return null},render:function(){return React.createElement("li",
null,React.createElement("span",{className:"facet-label"},this.props.value.label),React.createElement("span",{className:"facet-count"},React.createElement("i",{className:"fa-solid fa-lock-keyhole"})))}}),SearchForm=React.createClass({displayName:"SearchForm",getInitialState:function(){return{q:"",synonyms:[]}},componentDidMount:function(){this.isMounted()&&(this.props.searchResults&&this.props.searchResults.responseHeader&&this.props.searchResults.responseHeader.params&&this.props.searchResults.responseHeader.params.q&&
this.setState({q:this.props.searchResults.responseHeader.params.q},function(){this.props.searchConfig&&this.props.searchConfig.synonyms&&this.loadSynonyms(this.props.searchResults.responseHeader.params.q)}),this.setupAutocomplete())},loadSynonyms:function(a){$.ajax({url:searchServerUrl+"/api/1.0/retrieveSynonyms?q\x3d"+a,type:"GET",global:!1,success:function(a){null!=a&&this.setState({synonyms:a})}.bind(this),error:function(a,c,d){console.error(a,c,d)}})},setupAutocomplete:function(){var a=this.props.searchConfig.application;
""==a&&(a="all");$("#term").autocomplete({source:function(b,c){$.ajax({url:searchServerUrl+"/default/search/suggestKeywords?term\x3d"+b.term.trim()+"\x26tenant\x3d"+a,type:"GET",global:!1,success:function(a){var b=[];if(null!=a&&(a=eval("("+a+")"))&&a.hits&&a.hits.hits)for(a=a.hits.hits,i=0;i<a.length;i++)b[i]={value:a[i]._source.key_words,label:a[i]._source.key_words+" [~"+a[i]._source.resultCount+"]"};c(b)}.bind(this),error:function(a,b,c){console.error(a,b,c)}})},minLength:3,select:function(a,
c){this.setState({q:c.item.value})}})},changeTerm:function(a){this.setState({q:a.target.value})},updateQuery:function(a){var b={};this.props.searchResults&&this.props.searchResults.responseHeader&&this.props.searchResults.responseHeader.params&&(b=this.props.searchResults.responseHeader.params);b.q=a;b.start=0;b.sort="score desc,"+this.props.searchConfig.defaultNoRelevancySort;this.props.logSearchEvent("keyword_search",a);this.props.updateResults(b)},submitForm:function(a){a.preventDefault();a={};
this.props.searchResults&&this.props.searchResults.responseHeader&&this.props.searchResults.responseHeader.params&&(a=this.props.searchResults.responseHeader.params);a.q=this.state.q;a.start=0;a.sort="score desc,"+this.props.searchConfig.defaultNoRelevancySort;this.props.logSearchEvent("keyword_search",this.state.q);this.props.updateResults(a)},viewAll:function(a){a.preventDefault();this.props.updateResults({})},searchTips:function(a){return"studies"==a?React.createElement("div",null,React.createElement("div",
null,React.createElement("a",{"data-bs-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample"},"search tips ",React.createElement("i",{className:"fa-solid fa-caret-down"}))),React.createElement("div",{className:"collapse",id:"collapseExample"},React.createElement("div",{className:"card card-body"},React.createElement("ul",null,React.createElement("li",null,"Search terms can be anywhere in the study: title, description, variables, etc."),
React.createElement("li",null,"Because our holdings are large, we recommend using at least two query terms:",React.createElement("br",null),React.createElement("code",null,"rural economy"),React.createElement("br",null),React.createElement("code",null,"home ownership"),React.createElement("br",null),React.createElement("code",null,"higher education"),React.createElement("br",null)),React.createElement("li",null,"Keywords help delimit the breadth of results. Therefore, use as many as required to achieve your desired results:",
React.createElement("br",null),React.createElement("code",null,"elementary education federal funding")),React.createElement("li",null,"Our search will find studies with derivative expressions of your query terms: A search for ",React.createElement("code",null,'"nation"'),'will find results containing "national"'),React.createElement("li",null,"Use quotes to search for an exact expression:",React.createElement("br",null),React.createElement("code",null,'"social mobility"')),React.createElement("li",
null,"You can combine exact expressions with loose terms:",React.createElement("br",null),React.createElement("code",null,'"united states" inmates')),React.createElement("li",null,"Exclude results by using a MINUS sign:",React.createElement("br",null),React.createElement("code",null,"elections -sweden -germany"),React.createElement("br",null),"will exclude swedish and german election studies"),React.createElement("li",null,"On the results page, you will be able to sort and filter to further refine results."))))):
"publications"==a?React.createElement("div",null,React.createElement("div",null,React.createElement("a",{"data-bs-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample"},"search tips ",React.createElement("i",{className:"fa-solid fa-caret-down"}))),React.createElement("div",{className:"collapse",id:"collapseExample"},React.createElement("div",{className:"card card-body"},React.createElement("ul",null,React.createElement("li",null,"Our citation search indexes only the literal citations, not the full text of the publications."),
React.createElement("li",null,"Instead of entering a research question, use only one or two search words, and use the filters to narrow your results."),React.createElement("li",null,"Use quotes for phrase searches; use the minus sign to remove items from results:",React.createElement("code",null,'"drug abuse" -adolescent')),React.createElement("li",null,'A Boolean "and" is invoked with multiple search terms.'),React.createElement("li",null,React.createElement("a",{className:"external",href:"http://snowball.tartarus.org/algorithms/porter/stemmer.html"},
"Stemming")," is automatic; do not use an asterisk."),React.createElement("li",null,"Search is not case-sensitive."))))):"variables"==a?React.createElement("div",null,React.createElement("div",null,React.createElement("a",{"data-bs-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample"},"search tips ",React.createElement("i",{className:"fa-solid fa-caret-down"}))),React.createElement("div",{className:"collapse",id:"collapseExample"},React.createElement("div",
{className:"card card-body"},React.createElement("ul",null,React.createElement("li",null,"Enter words or strings that are likely to appear in a variable name, label, question, and value labels:",React.createElement("br",null),React.createElement("em",null,"Presidential election")," will return variables dealing with all presidential elections",React.createElement("br",null),React.createElement("em",null,"Presidential election Obama")," will return only variables dealing with the 2008 and 2012 presidential elections"),
React.createElement("li",null,"Use quotes to search for specific phrases:",React.createElement("br",null),React.createElement("code",null,'"life satisfaction"'),React.createElement("code",null,'"minority rights"'),React.createElement("code",null,'"community programs"')),React.createElement("li",null,"The minus sign may be used to remove certain types of results:",React.createElement("br",null),React.createElement("em",null,'"Presidential debate" -"Bill Clinton"')," will eliminate the debates from 1992 and 1996 in which Clinton participated"),
React.createElement("li",null,'A Boolean "and" is implied in the search.'),React.createElement("li",null,"The search automatically does stemming (",React.createElement("a",{href:"http://snowball.tartarus.org/algorithms/porter/stemmer.html",className:"external"},"more info"),"); there's no need to type in an asterisk. It's also case-insensitive."))))):React.createElement("div",null,React.createElement("div",null,React.createElement("a",{"data-bs-toggle":"collapse",href:"#collapseExample",role:"button",
"aria-expanded":"false","aria-controls":"collapseExample"},"search tips ",React.createElement("i",{className:"fa-solid fa-caret-down"}))),React.createElement("div",{className:"collapse",id:"collapseExample"},React.createElement("div",{className:"card card-body"},React.createElement("ul",null,React.createElement("li",null,"Search terms can be anywhere in the series: title, description, variables, etc."),React.createElement("li",null,"Because our holdings are large, we recommend using at least two query terms:",
React.createElement("br",null),React.createElement("code",null,"rural economy"),React.createElement("br",null),React.createElement("code",null,"home ownership"),React.createElement("br",null),React.createElement("code",null,"higher education"),React.createElement("br",null)),React.createElement("li",null,"Keywords help delimit the breadth of results. Therefore, use as many as required to achieve your desired results:",React.createElement("br",null),React.createElement("code",null,"elementary education federal funding")),
React.createElement("li",null,"Our search will find series with derivative expressions of your query terms: A search for ",React.createElement("code",null,'"nation"'),'will find results containing "national"'),React.createElement("li",null,"Use quotes to search for an exact expression:",React.createElement("br",null),React.createElement("code",null,'"social mobility"')),React.createElement("li",null,"You can combine exact expressions with loose terms:",React.createElement("br",null),React.createElement("code",
null,'"united states" inmates')),React.createElement("li",null,"Exclude results by using a MINUS sign:",React.createElement("br",null),React.createElement("code",null,"elections -sweden -germany"),React.createElement("br",null),"will exclude swedish and german election series")))))},render:function(){var a=this.searchTips(this.props.searchConfig.searchType),b=this.updateQuery,c=this.state.q,d=this.state.synonyms,e;0<d.length&&(e=d.map(function(a,c){return c==d.length-1?React.createElement("label",
{key:c}," ",React.createElement("a",{role:"button",onClick:function(){b(a)}},a)):React.createElement("label",{key:c},React.createElement("a",{role:"button",onClick:function(){b(a)}},a)," (OR)","\u00a0")}),e=React.createElement("li",null,React.createElement("i",null,"Did you mean")," ",e,"?"));return React.createElement("div",{id:"topLevelSearchForm"},React.createElement("form",{id:"studies",name:"studies"},React.createElement("div",{className:"input-group mb-3"},React.createElement("input",{type:"text",
className:"form-control",name:"term",id:"term",value:c,onChange:this.changeTerm,title:"enter search term to perform or revise your search"}),React.createElement("input",{type:"hidden",name:"source",value:"main search box"}),React.createElement("button",{className:"btn btn-primary",type:"submit",id:"submit",onClick:this.submitForm},"Search"),React.createElement("button",{id:"viewAllButton",className:"btn btn-link",onClick:this.viewAll},"View All"))),a,React.createElement("ul",null,e))}});$(document).ajaxStart(function(){$("#busy").addClass("busyModal")});
$(document).ajaxStop(function(){$("#busy").removeClass("busyModal")});
var SearchPage=React.createClass({displayName:"SearchPage",getInitialState:function(){return null},correctFqInParams:function(a){if(!a.fq)a.fq=[];else if(!Array.isArray(a.fq)){var b=[];b[0]=a.fq;a.fq=b}return a},buildUrl:function(a){var b=window.location.origin+window.location.pathname+"?";a=convertParams(a);for(var c=0;c<a.length;c++){var d=a[c];0<c&&(b+="\x26");b+=d}return b},updateResults:function(a){a=this.buildUrl(a);window.location=a},logSearchEvent:function(a,b){var c=this.props.searchResults,
d=searchServerUrl+"/default/search/logSearchEvent?",d="keyword_search"==a?d+("searchTerm\x3d"+b):c&&c.responseHeader&&c.responseHeader.params&&c.responseHeader.params.q?d+("searchTerm\x3d"+c.responseHeader.params.q):d+"searchTerm\x3d",d=d+("\x26tenant\x3d"+this.props.searchConfig.application),d=d+("\x26action\x3d"+a)+("\x26value\x3d"+encodeURIComponent(b)),d=d+("\x26url\x3d"+encodeURI(location.href));$.ajax({url:d,type:"GET",global:!1,beforeSend:function(a,b){jwtToken&&(console.log("jwtToken: "+jwtToken),
a.setRequestHeader("Authorization","Bearer "+jwtToken))},success:function(a){}.bind(this),error:function(a,b,c){console.error(a,b,c)}})},render:function(){var a=React.createElement("div",null),b=this.props.searchResults;null!=b&&null!=b.responseHeader&&null!=b.responseHeader.params&&(b.responseHeader.params=this.correctFqInParams(b.responseHeader.params));if(null==b||"null"==b)a=React.createElement(NoResults,{searchConfig:this.props.searchConfig,updateResults:this.updateResults,logSearchEvent:this.logSearchEvent},
this.props);else if(null!=b&&null!=b.response&&0==b.response.numFound)if("studies"==this.props.searchConfig.searchType)a=React.createElement(NoStudyResults,{searchConfig:this.props.searchConfig,searchResults:b,updateResults:this.updateResults,logSearchEvent:this.logSearchEvent},this.props);else if("publications"==this.props.searchConfig.searchType)a=React.createElement(NoCitationResults,{mode:"searchResults",searchConfig:this.props.searchConfig,searchResults:b,updateResults:this.updateResults,logSearchEvent:this.logSearchEvent},
this.props);else if("variables"==this.props.searchConfig.searchType)a=React.createElement(NoVariableResults,{mode:"searchResults",searchConfig:this.props.searchConfig,searchResults:b,updateResults:this.updateResults,logSearchEvent:this.logSearchEvent},this.props);else if("resources"==this.props.searchConfig.searchType)a=React.createElement(NoResourceResults,{mode:"searchResults",searchConfig:this.props.searchConfig,searchResults:b,updateResults:this.updateResults,logSearchEvent:this.logSearchEvent},
this.props);else if("webpages"==this.props.searchConfig.searchType)a=React.createElement(NoWebpageResults,{mode:"searchResults",searchConfig:this.props.searchConfig,searchResults:b,updateResults:this.updateResults,logSearchEvent:this.logSearchEvent},this.props);else if("series"==this.props.searchConfig.searchType)a=React.createElement(NoSeriesResults,{mode:"searchResults",searchConfig:this.props.searchConfig,searchResults:b,updateResults:this.updateResults,logSearchEvent:this.logSearchEvent},this.props);
else if("deposits"==this.props.searchConfig.searchType)a=React.createElement(NoDepositResults,{mode:"searchResults",searchConfig:this.props.searchConfig,searchResults:b,updateResults:this.updateResults,logSearchEvent:this.logSearchEvent},this.props);else{if("courses"==this.props.searchConfig.searchType||"sumprog"==this.props.searchConfig.searchType)a=React.createElement(NoCourseResults,{searchConfig:this.props.searchConfig,searchResults:b,updateResults:this.updateResults,logSearchEvent:this.logSearchEvent},
this.props)}else null!=b&&(a=React.createElement(SearchResults,{searchServerUrl:searchServerUrl,searchConfig:this.props.searchConfig,searchResults:b,updateResults:this.updateResults,logSearchEvent:this.logSearchEvent}));return React.createElement("div",null,a,React.createElement("div",{id:"busy"}))}});function getFieldFromFq(a){return-1<a.indexOf("\\:")?a.substr(0,a.indexOf("\\:")):a.substr(0,a.indexOf(":"))}
function getValueFromFq(a){return-1<a.indexOf("\\:")?a.substr(a.indexOf("\\:")+2):a.substr(a.indexOf(":")+1)}function convertParams(a){var b=[],c=0,d;for(d in a)if(a.hasOwnProperty(d))if("fq"==d)for(var e=0;e<a.fq.length;e++){var g=getValueFromFq(a.fq[e]),f=getFieldFromFq(a.fq[e]);"SERIES"!=f&&(b[c]=f+"\x3d"+encodeURIComponent(g),c++)}else if("q"==d||"sort"==d||"rows"==d||"start"==d)b[c]=d+"\x3d"+encodeURIComponent(a[d]),c++;return b}
function removeFilterFromParams(a,b){for(var c=0;c<a.fq.length;c++)getFieldFromFq(a.fq[c])==b.field&&a.fq.splice(c,1);return a}
var SearchResult=React.createClass({displayName:"SearchResult",getInitialState:function(){return null},addResultToSavedResults:function(){console.log("Executing addResultToSavedResults.");var a=this.props.savedResults;a[a.length]=this.props.children[this.props.searchConfig.idVariable];this.props.updateSavedResults(a)},removeResultFromSavedResults:function(){var a=this.props.savedResults,b=a.indexOf(this.props.children[this.props.searchConfig.idVariable]);a.splice(b,1);this.props.updateSavedResults(a)},
render:function(){var a=Number(this.props.params.start)+Number(this.props.resultIndex)+1,b=React.createElement("div",{className:"p-2"},a,"."),c=this.props.children[this.props.searchConfig.idVariable],d=React.createElement("div",null,React.createElement("div",{dangerouslySetInnerHTML:{__html:buildSearchResult(this.props.children)}}));saveSearchResult&&(b=0<this.props.savedResults.length&&-1<this.props.savedResults.indexOf(c)?React.createElement("div",null,React.createElement("form",null,React.createElement("input",
{type:"checkbox",name:"searchResult"+c,checked:"checked",onClick:this.removeResultFromSavedResults}))):React.createElement("div",null,React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+c,onClick:this.addResultToSavedResults}))));return React.createElement("div",{className:"searchResult row",key:"searchResult"+a},b,d)}}),SearchResults=React.createClass({displayName:"SearchResults",getInitialState:function(){return{savedResults:[]}},componentDidMount:function(){this.isMounted()&&
$.ajax({url:searchServerUrl+"/api/1.0/savedResults/"+requesterSessionId+"/"+this.props.searchConfig.searchType+"/view",contentType:"application/json",type:"GET",crossDomain:!0,success:function(a){null!=a&&(this.setState({savedResults:a}),savedResults=a)}.bind(this),error:function(a,b,c){console.error(a,b,c)}})},showAllResults:function(a){this.updateResultsPerPage(this.props.searchResults.response.numFound)},updateCurrentPage:function(a){var b=this.props.searchResults.responseHeader.params;b.start=
(a-1)*b.rows;this.props.logSearchEvent("next_page",a);this.props.updateResults(b)},updateResultsPerPage:function(a){var b=this.props.searchResults.responseHeader.params;b.rows=a;b.start=0;this.props.updateResults(b)},updateSort:function(a){var b=this.props.searchResults.responseHeader.params;b.sort=a;b.start=0;this.props.logSearchEvent("sort_search_results",a);this.props.updateResults(b)},addResultsToSavedResults:function(){for(var a=this.state.savedResults,b=this.props.searchResults.response.docs,
c=this.props.searchConfig,d=0;d<b.length;d++)0>a.indexOf(b[d][c.idVariable].toString())&&(a[a.length]=b[d][c.idVariable].toString());this.updateSavedResults(a)},removeResultsFromSavedResults:function(){for(var a=this.state.savedResults,b=this.props.searchResults.response.docs,c=this.props.searchConfig,d=[],d=0;d<b.length;d++){var e=b[d][c.idVariable].toString();-1<a.indexOf(e)&&(a[a.indexOf(e)]="")}d=this.removeEmptyValuesFromSavedResults(a);this.updateSavedResults(d)},clearSavedResults:function(){this.updateSavedResults([])},
updateSavedResults:function(a){$.ajax({url:searchServerUrl+"/api/1.0/savedResults/"+requesterSessionId+"/"+this.props.searchConfig.searchType+"/update",contentType:"application/json;charset\x3dUTF-8",type:"POST",data:JSON.stringify(a),crossDomain:!0,success:function(a){null!=a&&(this.setState({savedResults:a}),savedResults=a)}.bind(this),error:function(a,c,d){console.error(a,c,d)}})},removeEmptyValuesFromSavedResults:function(a){for(var b=[],c=0;c<a.length;c++)""!=a[c]&&b.push(a[c]);return b},buildResultsHeading:function(a,
b,c){return resultsHeading=500>=c&&b!=c?React.createElement("div",null,"Showing ",a," - ",b," of ",c," results. ",React.createElement("a",{href:"#",onClick:this.showAllResults},"Show all")):React.createElement("div",null,"Showing ",a," - ",b," of ",c," results.")},buildOpenICPSRLink:function(){var a="https://www.icpsr.umich.edu/web/ICPSR/search/studies"+window.location.search;return openICPSRLink="openicpsr"==window.location.pathname.substring(1,10)?React.createElement("div",null,React.createElement("a",
{className:"openICPSRLink ",id:"openICPSRLink",href:a},"View the results of this search"),"\u00a0in the main ICPSR catalog."):null},buildBatchUtilities:function(){var a=this.props.searchResults.response.docs.length,b=[];null!=customActions&&1<customActions.length?customActions.map(function(a,c){b.push(React.createElement("li",{key:c,className:"dropdown-item"},React.createElement("a",{href:"#",onClick:a.onClickAction,key:"customAction"+c},a.label)))}):null!=customActions&&0<customActions.length&&customActions.map(function(a,
c){b.push(React.createElement("button",{type:"button",className:"btn btn-default",href:"#",onClick:a.onClickAction,key:"customAction"+c},a.label))});var c=1<b.length?React.createElement("div",null,React.createElement("button",{className:"btn dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},"Actions"),React.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},b)):React.createElement("div",null,b);return React.createElement("div",
{className:"row sticky-top",id:"savedResultsHeader"},React.createElement("div",{className:"col-md-12 my-2"},React.createElement("div",{className:"btn-group dropdown",role:"group"},React.createElement("button",{className:"btn dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},"Select"),React.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},React.createElement("li",null,React.createElement("a",{href:"#",
className:"dropdown-item",onClick:this.addResultsToSavedResults},"Select All ",a," Results")),React.createElement("li",null,React.createElement("a",{href:"#",className:"dropdown-item",onClick:this.removeResultsFromSavedResults},"De-select All ",a," Results")),React.createElement("li",null,React.createElement("a",{href:"#",className:"dropdown-item",onClick:this.clearSavedResults},"Clear All Saved Results (",this.state.savedResults.length,")")))),"\u00a0",React.createElement("div",{className:"btn-group",
role:"group"},c)))},render:function(){var a=this.props.searchConfig,b=this.props.searchResults,c=this.props.searchResults.responseHeader.params,d=this.state.savedResults,e=this.props.updateResults,g=this.updateSavedResults,f=React.createElement("div",null),f=React.createElement("div",null);saveSearchResult&&(f=this.buildBatchUtilities());var h=!1;a.groupField&&b.grouped&&(h=!0);var k;if(null!=buildSearchResult)k=b.response.docs.map(function(f,h){return React.createElement(SearchResult,{start:b.response.start,
savedResults:d,updateSavedResults:g,searchConfig:a,params:c,resultIndex:h,key:h,updateResults:e},f)});else if(h&&"deposits"==a.searchType)k=b.grouped[a.groupField].groups.map(function(b,f){return React.createElement(GroupedDepositSearchResult,{start:c.start,savedResults:d,updateSavedResults:g,searchConfig:a,params:c,resultIndex:f,key:f,updateResults:e},b)});else if("studies"==a.searchType)k=b.response.docs.map(function(f,h){return React.createElement(StudySearchResult,{start:b.response.start,savedResults:d,
updateSavedResults:g,searchConfig:a,params:c,resultIndex:h,key:h,updateResults:e},f)});else if("publications"==a.searchType)k=b.response.docs.map(function(f,h){return React.createElement(CitationSearchResult,{start:b.response.start,mode:"searchResults",savedResults:d,updateSavedResults:g,searchConfig:a,params:c,resultIndex:h,key:h,updateResults:e},f)});else if("variables"==a.searchType)k=b.response.docs.map(function(f,h){return React.createElement(VariableSearchResult,{start:b.response.start,mode:"searchResults",
publishManagerUrl:publishManagerUrl,savedResults:d,updateSavedResults:g,searchConfig:a,params:c,resultIndex:h,key:h,updateResults:e},f)});else if("nihRecords"==a.searchType||"nsfRecords"==a.searchType)k=b.response.docs.map(function(f,h){return React.createElement(CatalogSearchResult,{start:b.response.start,savedResults:d,updateSavedResults:g,searchConfig:a,params:c,resultIndex:h,key:h,updateResults:e},f)});else if("resources"==a.searchType||"resourcesv2"==a.searchType){var l=this.props.searchServerUrl;
k=b.response.docs.map(function(f,h){return React.createElement(ResourceSearchResult,{start:b.response.start,searchServerUrl:l,savedResults:d,updateSavedResults:g,searchConfig:a,params:c,resultIndex:h,key:h,updateResults:e},f)})}else"series"==a.searchType?(l=this.props.searchServerUrl,k=b.response.docs.map(function(f,h){return React.createElement(SeriesSearchResult,{start:b.response.start,searchServerUrl:l,savedResults:d,updateSavedResults:g,searchConfig:a,params:c,resultIndex:h,key:h,updateResults:e},
f)})):"webpages"==a.searchType?k=b.response.docs.map(function(f,h){return React.createElement(WebpageSearchResult,{start:b.response.start,savedResults:d,updateSavedResults:g,searchConfig:a,params:c,resultIndex:h,key:h,updateResults:e},f)}):"deposits"==a.searchType?k=b.response.docs.map(function(f,h){return React.createElement(DepositSearchResult,{start:b.response.start,savedResults:d,updateSavedResults:g,searchConfig:a,params:c,resultIndex:h,key:h,updateResults:e},f)}):"sumprog"==a.searchType?k=b.response.docs.map(function(f,
h){return React.createElement(CoursesSearchResult,{start:b.response.start,savedResults:d,updateSavedResults:g,searchConfig:a,params:c,resultIndex:h,key:h,updateResults:e},f)}):console.log("ERROR: No searchType variable declared in searchConfig, or unexpected searchType was returned.");var n=React.createElement("h1",null,"Search Results");null!=a.defaultTitle&&(n=React.createElement("h1",null,a.defaultTitle));var m=React.createElement("span",null);"publications"==a.searchType&&(m=React.createElement("div",
{className:"alert alert-info",role:"alert",id:"publicationsDisclaimer"},"The search results in this tab are pulled from the ",React.createElement("a",{href:"https://www.icpsr.umich.edu/web/pages/ICPSR/citations/"},"ICPSR Bibliography of Data-related Literature"),", a frequently-updated database of thousands of citations for publications that analyze data held at ICPSR."));"webpages"==a.searchType&&(m=React.createElement("div",{className:"alert alert-info",role:"alert",id:"webpagesDisclaimer"},"Use this search to find results that include web pages, news, announcements, staff information, events, and more."));
var t=React.createElement("p",null);"publications"==a.searchType&&(t=React.createElement(PubTypeLegend,null));var p=0,q,r;h?(p=b.grouped[a.groupField].matches,q=parseInt(c.start)+1,r=parseInt(c.start)+parseInt(c.rows)):(p=b.response.numFound,q=b.response.start+1,r=parseInt(b.response.start)+parseInt(c.rows));p-q<parseInt(c.rows)&&(r=parseInt(c.start+1)+parseInt(p-q));var s=p.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");q=q.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");r=r.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,
"$1,");h=React.createElement("div",null);h=this.buildResultsHeading(q,r,s);q=React.createElement("div",null);q=this.buildOpenICPSRLink(a);p=null!=b.grouped?React.createElement(PaginationButtons,{totalResults:p,resultsPerPage:c.rows,currentPage:c.start/c.rows+1,updateCurrentPage:this.updateCurrentPage}):React.createElement(PaginationButtons,{totalResults:p,resultsPerPage:c.rows,currentPage:b.response.start/c.rows+1,updateCurrentPage:this.updateCurrentPage});return f=React.createElement("div",{className:"row"},
React.createElement("aside",{className:"col-md-3"},React.createElement(Filters,{searchConfig:a,searchResults:b,logSearchEvent:this.props.logSearchEvent,updateResults:this.props.updateResults})),React.createElement("article",{className:"col-md-9","data-bootstrap-version":"bs5"},n,React.createElement("p",{id:"searchResultsCountDisplay"},h," ",q),React.createElement(SearchForm,{searchConfig:this.props.searchConfig,searchResults:this.props.searchResults,updateResults:this.props.updateResults,logSearchEvent:this.props.logSearchEvent}),
m,React.createElement(SearchResultsTabs,{searchConfig:a,searchResults:b}),React.createElement("div",{className:"d-lg-flex justify-content-between p-2"},React.createElement("div",null,React.createElement(ResultSummariesToggle,{searchConfig:a})),React.createElement("div",null,React.createElement(SortMenu,{params:c,updateSort:this.updateSort,searchConfig:a})),React.createElement("div",null,p)),t,React.createElement("div",{id:"studyResults"},React.createElement("div",{id:"results-body"},f,React.createElement(SearchResultsHeader,
{searchType:a.searchType}),k)),React.createElement("div",{className:"d-flex justify-content-end p-2"},p)))}}),selfReferenceOnly=["openicpsr","datalumos","census","linkagelibrary"],newStyle=["cfda"];
function buildStudyUrl(a,b,c){if(!validateRequiredInput(c))return console.error("Unable to build study URL because no valid study id was provided."),"#";var d=buildBaseUrl(a,b);return d=null!=b&&-1<selfReferenceOnly.indexOf(b.toLowerCase())?d+("/project/"+c+"/view"):-1<newStyle.indexOf(a.toLowerCase())?d+("/archives/"+a.toLowerCase()+"/studies/"+c):d+("/studies/"+c)}
function buildSeriesUrl(a,b){if(!validateRequiredInput(b))return console.error("Unable to build series URL because no valid series id was provided."),"#";var c=buildBaseUrl(a,null)+"/series/"+b;-1<newStyle.indexOf(a.toLowerCase())&&(c=buildBaseUrl(a,null)+"/"+a.toLowerCase()+"/series/"+b);return c}
function buildVariableUrl(a,b,c,d){if(!validateRequiredInput(b)||!validateRequiredInput(c)||!validateRequiredInput(d))return console.error("Unable to build variable URL because studyId, datasetId, and varId were not provided."),"#";b=buildBaseUrl(a,null)+"/studies/"+b+"/datasets/"+c+"/variables/"+d;null!=a&&(b+="?archive\x3d"+a);return b}function validateRequiredInput(a){return null==a||"undefined"==a||""==a||"null"==a?!1:!0}
function buildBaseUrl(a,b){var c="";null!=b&&-1<selfReferenceOnly.indexOf(b.toLowerCase())?c=archiveUrlsJson[b.toLowerCase()]:null==a?(console.error("In buildBaseUrl received neither owner nor currentArchive. Defaulting to ICPSR."),c=archiveUrlsJson.ICPSR):c="census"==a.toLowerCase()&&"census"!=b.toLowerCase()?archiveUrlsJson.ICPSR:"psid"==a.toLowerCase()&&"psid"!=b.toLowerCase()?archiveUrlsJson.ICPSR:"childcare"==a.toLowerCase()?archiveUrlsJson.CCEERC:archiveUrlsJson.hasOwnProperty(a.toUpperCase())?
archiveUrlsJson[a.toUpperCase()]:archiveUrlsJson.hasOwnProperty(a.toLowerCase())?archiveUrlsJson[a.toLowerCase()]:"/pcms";return c}
var SearchResultsHeader=React.createClass({displayName:"SearchResultsHeader",getInitialState:function(){return null},render:function(){var a=this.props.searchType,b=React.createElement("div",null);null!=buildSearchResultsHeader?b=React.createElement("div",{dangerouslySetInnerHTML:{__html:buildSearchResultsHeader()}}):"studies"==a?b=React.createElement("div",{className:"d-flex justify-content-between p-2",id:"columnHeadings"},React.createElement("div",null,React.createElement("strong",null,"Study Title/Investigator")),
React.createElement("div",null,React.createElement("strong",null,"Released/Updated"))):"publications"==a?b=React.createElement("div",{className:"d-sm-flex justify-content-start p-2",id:"columnHeadings"},React.createElement("div",{className:"px-2"},React.createElement("strong",null,"Pub. Type")),React.createElement("div",{className:"px-2"},React.createElement("strong",null,"Pub. Year")),React.createElement("div",{className:"ps-2 ps-sm-3"},React.createElement("strong",null,"Citation"))):"variables"==
a?b=React.createElement("div",{className:"row",id:"columnHeadings"},React.createElement("div",{className:"varNameHeading col-md-2 p-md-2"},React.createElement("strong",null,"Var. Name")),React.createElement("div",{className:"labelQuestionVarHeading col-md-6 p-md-2"},React.createElement("strong",null,"Label/Question Text")),React.createElement("div",{className:"varTypeHeading col-md-2 p-md-2"},React.createElement("strong",null,"Var. Type")),React.createElement("div",{className:"datasetVarHeading col-md-2 p-md-2"},
React.createElement("strong",null,"Dataset"))):"resources"==a?b=React.createElement("div",{className:"d-flex justify-content-between p-2",id:"columnHeadings"},React.createElement("div",null," "),React.createElement("div",null,React.createElement("strong",null,"Result")),React.createElement("div",null,React.createElement("strong",null,"Resource Type"))):"series"==a?b=React.createElement("div",{className:"d-flex justify-content-between p-2",id:"columnHeadings"},React.createElement("div",null,React.createElement("strong",
null,"Series Title/Description"))):"webpages"==a?b=React.createElement("div",{className:"d-flex justify-content-between p-2",id:"columnHeadings"},React.createElement("div",null,React.createElement("strong",null,"Page Link")),React.createElement("div",null,React.createElement("strong",null,"Last Updated"))):"sumprog"==a?b=React.createElement("div",{className:"d-flex justify-content-between p-2",id:"columnHeadings"},React.createElement("div",null,React.createElement("strong",null,"Title")),React.createElement("div",
null,React.createElement("strong",null,"Start Date"))):"deposits"==a&&(b=React.createElement("div",{className:"row py-2",id:"columnHeadings"},React.createElement("div",{className:"col-md-1 p-0"},React.createElement("strong",null,"Project ID")),React.createElement("div",{className:"col-md-3 p-0 ps-md-2"},React.createElement("strong",null,"Deposit Title")),React.createElement("div",{className:"col-md-2 p-0 ps-md-2"},React.createElement("strong",null,"Status")),React.createElement("div",{className:"col-md-1 p-0 ps-md-2"},
React.createElement("strong",null,"Archive")),React.createElement("div",{className:"col-md-2 p-0 ps-md-2"},React.createElement("strong",null,"Dates")),React.createElement("div",{className:"col-md-2 p-0 ps-md-2"},React.createElement("strong",null,"Diary")),React.createElement("div",{className:"col-md-1 p-0"},React.createElement("strong",null,"Linked to"))));return b}}),SearchResultsTab=React.createClass({displayName:"SearchResultsTab",getInitialState:function(){return{count:null}},componentDidMount:function(){if(this.isMounted()){for(var a=
searchServerUrl+"/api/1.0/default/applications/"+this.props.searchConfig.application+"/modules/"+this.props.searchConfig.module+"/"+this.props.searchConfig.searchType+"/count?",b=convertParams(this.props.params),c=0;c<b.length;c++){var d=b[c];0<c&&(a+="\x26");a+=d}$.ajax({url:a,contentType:"application/json",type:"GET",crossDomain:!0,success:function(a){null!=a&&this.setState({count:a})}.bind(this),error:function(a,b,c){console.error(a,b,c)}})}},buildUrl:function(){var a=window.location.origin+window.location.pathname.replace(this.props.currentType,
this.props.searchConfig.searchType)+"?",b=this.props.params;b.start=0;for(var b=convertParams(b),c=0;c<b.length;c++){var d=b[c];0<c&&(a+="\x26");a+=d}this.props.currentType!==this.props.searchConfig.searchType&&(a=a.replace(/(rows=)[^\&]+/,"rows\x3d50"));return a},render:function(){var a=this.props.searchConfig,b=" ";this.props.currentType==a.searchType&&(b="active");var c=a.searchType.substr(0,1).toUpperCase()+a.searchType.substr(1);a.hasOwnProperty("tabLabel")&&null!=a.tabLabel&&(c=a.tabLabel);
var a=this.buildUrl(),d=React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link "+b,href:a},c)),e=this.state.count;null!=e&&(d=React.createElement("li",{className:"nav-item"},React.createElement("a",{className:"nav-link "+b,href:a},c," (",e.toLocaleString(),")")));return d}}),SearchResultsTabs=React.createClass({displayName:"SearchResultsTabs",getInitialState:function(){return{searchConfigArray:[]}},componentDidMount:function(){this.isMounted()&&$.ajax({url:searchServerUrl+
"/api/1.0/config/applications/"+this.props.searchConfig.application+"/modules/"+this.props.searchConfig.module,contentType:"application/json",type:"GET",crossDomain:!0,success:function(a){null!=a&&this.setState({searchConfigArray:a})}.bind(this),error:function(a,b,c){console.error(a,b,c)}})},render:function(){var a=React.createElement("span",null),b=this.state.searchConfigArray,c=this.props.searchConfig.searchType;if(1<b.length)var d=this.props.searchResults.responseHeader.params,a=b.map(function(a,
b){return React.createElement(SearchResultsTab,{key:b,currentType:c,searchConfig:a,params:d})}),a=React.createElement("ul",{className:"nav nav-tabs",role:"tablist"},a);return a}}),SearchTermsWordCloud=React.createClass({displayName:"SearchTermsWordCloud",getInitialState:function(){return{data:null}},componentWillMount:function(){this.loadData()},loadData:function(){var a=[];$.ajax({url:this.props.searchServerUrl+"/popularSearchTerms?searchTerm\x3dsearchTerm_raw\x26size\x3d50",type:"POST",global:!1,
success:function(b){b=eval("("+b+")");if(null!=b&&0<b.aggregations.searchTerms.buckets.length)for(i=0;i<b.aggregations.searchTerms.buckets.length;i++)a.push(b.aggregations.searchTerms.buckets[i].key);this.setState({data:a})}.bind(this),error:function(a,c,d){console.error(a,c,d)}})},render:function(){function a(a){d3.select("#wordCloud").append("svg").attr("width",e.size()[0]).attr("height",e.size()[1]).append("g").attr("transform","translate("+e.size()[0]/2+","+e.size()[1]/2+")").selectAll("text").data(a).enter().append("a").attr("xlink:href",
function(a){return c+"/ICPSR/studies?sortBy\x3d\x26searchSource\x3drevise\x26q\x3d"+a.text}).append("text").style("font-size",function(a){return a.size+"px"}).style("font-family","Impact").style("fill",function(a,b){return d(b)}).attr("text-anchor","middle").attr("transform",function(a){return"translate("+[a.x,a.y]+")rotate("+a.rotate+")"}).text(function(a){return a.text})}var b=this.state.data,c=this.props.icpsrwebURL,d=d3.scaleOrdinal(d3.schemeCategory20);if(null!=b){var e=d3.layout.cloud().size([300,
200]).words(b.map(function(a){return{text:a,size:10+10*Math.random()}})).padding(5).font("Impact").fontSize(function(a){return a.size}).on("end",a);e.start()}return React.createElement("div",null)}}),SeriesSearchResult=React.createClass({displayName:"SeriesSearchResult",getInitialState:function(){return null},render:function(){var a=Number(this.props.start)+Number(this.props.resultIndex)+1,b=this.props.children[this.props.searchConfig.idVariable],c=this.props.children[this.props.searchConfig.titleVariable],
d="icpsr";this.props.searchConfig.application&&(d=this.props.searchConfig.application);this.props.searchConfig.module&&null!=this.props.searchConfig.module&&"null"!=this.props.searchConfig.module&&(d=this.props.searchConfig.module);b=buildSeriesUrl(d,b);return React.createElement("div",{className:"d-flex border-bottom border-1 py-2",key:"searchResult"+a},React.createElement("div",{className:"p-2"},a,"."),React.createElement("div",{className:"p-2"},React.createElement("a",{href:b},c)))}}),SortMenu=
React.createClass({displayName:"SortMenu",getInitialState:function(){return null},updateSort:function(a){this.props.updateSort(a.target.value)},render:function(){var a=this.props.searchConfig.sortFields.map(function(a,c){return React.createElement("option",{key:"sortOption"+c,value:a.value},a.label)});return React.createElement("form",{action:"",method:"get"},React.createElement("label",{htmlFor:"sort-"+this.props.searchConfig.searchType},"Sort by:"),React.createElement("select",{name:"sort",id:"sort-"+
this.props.searchConfig.searchType,className:"form-select input-sm",value:this.props.params.sort,onChange:this.updateSort,required:"required"},a))}}),Statistics=React.createClass({displayName:"Statistics",getInitialState:function(){return{studies:"",variables:"",publications:""}},componentWillMount:function(){this.loadData()},loadData:function(){this.loadStudiesCount();this.loadVariablesCount();this.loadPublicationsCount()},loadStudiesCount:function(){$.ajax({url:this.props.searchServerUrl+"/studiesCount",
dataType:"json",type:"GET",success:function(a){a=a.toLocaleString("en");this.setState({studies:a})}.bind(this),error:function(a,b,c){console.error(a,b,c)}.bind(this)})},loadVariablesCount:function(){$.ajax({url:this.props.searchServerUrl+"/variablesCount",dataType:"json",type:"GET",success:function(a){a=a.toLocaleString("en");this.setState({variables:a})}.bind(this),error:function(a,b,c){console.error(a,b,c)}.bind(this)})},loadPublicationsCount:function(){$.ajax({url:this.props.searchServerUrl+"/publicationsCount",
dataType:"json",type:"GET",success:function(a){a=a.toLocaleString("en");this.setState({publications:a})}.bind(this),error:function(a,b,c){console.error(a,b,c)}.bind(this)})},render:function(){var a=this.props.icpsrwebURL,b=this.state.studies,c=this.state.variables,d=this.state.publications;return React.createElement("div",null,React.createElement("p",{className:"statsStudies"},React.createElement("a",{href:a+"/ICPSR/studies?q\x3d"},React.createElement("img",{src:a+"/ICPSR/images/icons/database-stack-green.png",
alt:" "}),b," studies")),React.createElement("p",{className:"statsVariables"},React.createElement("a",{href:a+"/ICPSR/ssvd/variables?q\x3d"},React.createElement("img",{src:a+"/ICPSR/images/icons/variable-x-icon.png",alt:" "}),c," variables")),React.createElement("p",{className:"statsPublications"},React.createElement("a",{href:a+"/ICPSR/biblio/resources?q\x3d\x26collection%5b0%5d\x3dDATA"},React.createElement("img",{src:a+"/ICPSR/images/icons/book-icon.png",alt:" "}),d," publications")))}}),StudySearchResult=
React.createClass({displayName:"StudySearchResult",getInitialState:function(){return null},componentDidMount:function(){if(this.isMounted()){var a=$(".result-summary"),b=$("#toggle-state");$("#toggle-switch").change(function(){this.checked?(a.show(),b.text("Visible")):(a.hide(),b.text("Hidden"))})}},addResultToSavedResults:function(){console.log("Executing addResultToSavedResults.");var a=this.props.savedResults;a[a.length]=this.props.children[this.props.searchConfig.idVariable].toString();this.props.updateSavedResults(a)},
removeResultFromSavedResults:function(){var a=this.props.savedResults,b=a.indexOf(this.props.children[this.props.searchConfig.idVariable].toString());a.splice(b,1);this.props.updateSavedResults(a)},render:function(){var a=Number(this.props.start)+Number(this.props.resultIndex)+1,b=React.createElement("div",{className:"p-2"},a,"."),c=React.createElement("div",null),d=React.createElement("div",null),e=this.props.children[this.props.searchConfig.idVariable];this.props.children.URL&&console.log("URL provided by Solr for result "+
a+": "+this.props.children.URL);var g="icpsr";this.props.searchConfig.application&&(g=this.props.searchConfig.application);c=g;this.props.searchConfig.module&&null!=this.props.searchConfig.module&&"null"!=this.props.searchConfig.module&&(c=this.props.searchConfig.module);var f=this.props.children.OWNER,c=this.props.children.URL?this.props.children.URL:buildStudyUrl(c,f,e),d=React.createElement("span",null);"openicpsr"==f&&"openicpsr"!=g?d=React.createElement("img",{src:"//www.icpsr.umich.edu/files/images/openicpsr.png",
alt:"go to OpenICPSR site",className:"openicpsrlogo"}):"datalumos"==f&&"datalumos"!=g?d=React.createElement("img",{src:"//www.icpsr.umich.edu/files/images/datalumos.png",alt:"go to DataLumos site",className:"datalumoslogo"}):"census"==f&&"census"!=g?d=React.createElement("img",{src:"//www.icpsr.umich.edu/files/images/census.png",alt:"go to Census site",className:"censuslogo"}):"linkagelibrary"==f&&"linkagelibrary"!=g?d=React.createElement("img",{src:"//www.icpsr.umich.edu/files/images/linkagelibrary.png",
alt:"go to Linkage Library site",className:"openicpsrlogo"}):"mcc"==f?d=React.createElement("span",null,"(MCC ",e,")"):"census"!=f&&"datalumos"!=f&&"openicpsr"!=f&&(d=React.createElement("span",null,"(ICPSR ",e,")"));var g=this.props.children[this.props.searchConfig.titleVariable],h="";this.props.children[this.props.searchConfig.authorVariable]&&(h=this.props.children[this.props.searchConfig.authorVariable].map(function(a,b){return(0<b?"; ":"")+a}));f="";this.props.children[this.props.searchConfig.dateVariable]&&
(f=this.props.children[this.props.searchConfig.dateVariable].substr(0,10));c=React.createElement("div",{className:"p-2"},React.createElement("div",null,React.createElement("strong",null,React.createElement("a",{href:c},g),"\u00a0",d),React.createElement("br",null),h),React.createElement("div",{className:"collapse result-summary",id:"collapse"+e},React.createElement("div",{className:"displayCitation",dangerouslySetInnerHTML:{__html:this.props.children.SUMMARY}})));d=React.createElement("div",{className:"ms-auto p-2 text-nowrap"},
f);"undefined"!==typeof saveSearchResult&&saveSearchResult&&(b=React.createElement("div",null,React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+e,onClick:this.addResultToSavedResults,title:"Select "+g}))),0<this.props.savedResults.length&&-1<this.props.savedResults.indexOf(e.toString())&&(b=React.createElement("div",null,React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+e,checked:"checked",onClick:this.removeResultFromSavedResults,
title:"De-select "+g})))));return React.createElement("div",{className:"searchResult d-flex border-bottom border-1 py-2",key:"searchResult"+a},b,c,d)}}),emailExp="[a-z0-9!#$%\x26'*+/\x3d?^_`{|}~-]+(?:.[a-z0-9!#$%\x26'*+/\x3d?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",emailAlert={};function getPosition(a,b,c){return a.split(b,c).join(b).length}
var SynonymModal=React.createClass({displayName:"SynonymModal",getInitialState:function(){return{id:"",pTerm:"",npTerm:""}},componentDidMount:function(){this.isMounted()&&($("#synError").hide(),this.props.id?this.setState({id:this.props.id,pTerm:this.props.pTerm,npTerm:this.props.npTerm}):this.setState({id:"",pTerm:"",npTerm:""}))},componentWillReceiveProps:function(a){a.id?this.setState({id:a.id,pTerm:a.pTerm,npTerm:a.npTerm}):this.setState({id:"",pTerm:"",npTerm:""})},saveSynonym:function(a){a.preventDefault();
a=searchUrl+"/staff/saveSynonym?id\x3d"+this.state.id+"\x26pTerm\x3d"+this.state.pTerm+"\x26npTerm\x3d"+this.state.npTerm;""!=this.state.pTerm.trim()&&""!=this.state.npTerm.trim()&&$.ajax({url:a,contentType:"application/json",type:"POST",dataType:"json",crossDomain:!0,success:function(a){a.error?($("#synError").show(),$("#synError").html(a.error)):($("#"+this.props.dialogId).modal("hide"),this.props.refreshAttributes&&this.props.refreshAttributes())}.bind(this),error:function(a,c,d){console.error(a,
c,d)}})},render:function(){var a={value:this.state.pTerm,requestChange:function(a){this.setState({pTerm:a})}.bind(this)},b={value:this.state.npTerm,requestChange:function(a){this.setState({npTerm:a})}.bind(this)};return React.createElement("div",{className:"modal fade",id:this.props.dialogId,tabIndex:"-1","aria-labelledby":"synModalLabel","aria-hidden":"true"},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},
React.createElement("h5",{className:"modal-title",id:"synModalLabel"},"Add/Edit Synonym"),React.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),React.createElement("div",{className:"modal-body"},React.createElement("p",{className:"text-danger"},"All fields are required."),React.createElement("form",{id:"synonymModalForm"},React.createElement("div",{className:"mb-3"},React.createElement("label",{className:"form-label",htmlFor:"preferredTerm"},
"Preferred Term:"),React.createElement("input",{type:"text",className:"form-control",name:"preferredTerm",id:"preferredTerm","aria-required":"true",required:"required",valueLink:a,placeholder:"Babies"})),React.createElement("div",{className:"mb-3"},React.createElement("label",{className:"form-label",htmlFor:"nonPreferredTerm"},"Non-Preferred Term:"),React.createElement("input",{type:"text",className:"form-control",name:"nonPreferredTerm",id:"nonPreferredTerm","aria-required":"true",required:"required",
valueLink:b,placeholder:"Infants"})),React.createElement("div",{className:"modal-footer mt-3"},React.createElement("div",{className:"mb-3 float-end"},React.createElement("input",{type:"submit",className:"btn btn-primary",onClick:this.saveSynonym,value:"Save \x26 Apply"}))))))))}}),formatDate=function(a){return null==a?"":(new Date(a)).toLocaleDateString()+" "+(new Date(a)).toLocaleTimeString()},Synonyms=React.createClass({displayName:"Synonyms",getInitialState:function(){return{allSynonyms:[]}},componentDidMount:function(){this.isMounted()&&
this.loadData()},editSynonym:function(a){var b=a.id+"editSyn";ReactDOM.render(React.createElement(SynonymModal,{dialogId:b,id:a.id,pTerm:a.preferredTerm,refreshAttributes:this.loadData,npTerm:a.nonPreferredTerm}),document.getElementById("synDlg"));$("#"+b).modal("show")},deleteSynonym:function(a){var b=this.loadData;$.ajax({url:searchUrl+"/staff/deleteSynonym",type:"POST",data:{id:a},dataType:"json",success:function(a){a.error?alert(a.error):b()}.bind(this),error:function(a,b,e){console.error(a,b,
e)}.bind(this)})},showModal:function(a){a.show()},addSynonym:function(){document.getElementById("synDlg")&&($("#addNewSyn").html(),ReactDOM.render(React.createElement(SynonymModal,{dialogId:"addNewSyn",id:"",pTerm:"",npTerm:"",refreshAttributes:this.loadData}),document.getElementById("synDlg")),$("#addNewSyn").modal("show"))},loadData:function(){$.ajax({url:searchUrl+"/staff/allSynonyms",dataType:"json",success:function(a){this.setState({allSynonyms:a})}.bind(this),error:function(a,b,c){console.error(a,
b,c)}.bind(this)})},render:function(){var a=this.state.allSynonyms,b=this.editSynonym,c=this.deleteSynonym,d=React.createElement("button",{role:"button",id:"addButton",className:"btn btn-primary",onClick:this.addSynonym,title:"Add New Synonym"},"Add New Synonym"),a=0<a.length?a.map(function(a,d){return React.createElement("tr",{key:d},React.createElement("td",null,a.preferredTerm),React.createElement("td",null,a.nonPreferredTerm),React.createElement("td",null,formatDate(a.updatedTS)),React.createElement("td",
null,a.addedByEmail),React.createElement("td",null,React.createElement("button",{id:"editButton",role:"button",className:"btn btn-primary",onClick:function(){b(a)},title:"Edit Synonym"},"Edit"),"\u00a0",React.createElement("button",{id:"deleteButton",role:"button",className:"btn btn-danger",onClick:function(){c(a.id)},title:"Delete Synonym"},"Delete")))}):React.createElement("tr",null,React.createElement("td",{colSpan:"5"},"No Records available.")),a=React.createElement("div",null,React.createElement("table",
{className:"table table-bordered",id:"synonymsTable",width:"100%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{scope:"col"},"Preferred Term"),React.createElement("th",{scope:"col"},"Non - Preferred Term"),React.createElement("th",{scope:"col"},"Last Modified"),React.createElement("th",{scope:"col"},"Updated By"),React.createElement("th",{scope:"col"},"Actions"))),React.createElement("tbody",null,a)));return React.createElement("div",null,React.createElement("br",
null),d,React.createElement("br",null),React.createElement("br",null),a,React.createElement("div",{id:"synDlg"}))}});$(document).ajaxStart(function(){$("#busy").addClass("busyModal")});$(document).ajaxStop(function(){$("#busy").removeClass("busyModal")});
var VariableCompare=React.createClass({displayName:"VariableCompare",getInitialState:function(){return{data:[],variableIds:[],size:"",studyData:[]}},componentDidMount:function(){this.isMounted()&&($("#variableCompare").show(),this.setState({variableIds:this.props.variableIds,size:this.props.variableIds.length},function(){0<this.state.variableIds.length&&(this.loadVariableData(),this.loadStudyData())}))},componentWillReceiveProps:function(a){this.setState({variableIds:a.variableIds,size:a.variableIds.length,
data:[],studyData:[]},function(){0<a.variableIds.length&&(this.loadVariableData(),this.loadStudyData())})},loadVariableData:function(){var a=this.state.variableIds;$.ajax({url:publishManagerUrl+"/api/1.0/variablesData?varIds\x3d"+a,type:"GET",dataType:"json",success:function(b){b.map(function(b,d){null!=b&&(b.id=a[d])});this.setState({data:b})}.bind(this),error:function(a,c,d){console.error(a,c,d)}})},loadStudyData:function(){var a=this.state.variableIds,b=new Set;a.map(function(a){a=a.substring(0,
a.indexOf("-"));b.add(a)});for(var c=Array.from(b),a=0;a<c.length;a++)$.ajax({url:publishManagerUrl+"/api/1.0/studiesData?studyIds\x3d"+c,type:"GET",dataType:"json",success:function(a){a.map(function(a,b){null!=a&&(a.id=c[b])});this.setState({studyData:a})}.bind(this),error:function(a,b,c){console.error(a,b,c)}})},goToSearch:function(){$("#variableCompare").hide();$("#search").show()},compareVariables:function(){this.setState({data:[],studyData:[]},function(){this.loadVariableData();this.loadStudyData()})},
checkboxChange:function(a){var b="N";1==a.target.checked&&(b="Y");var c=this.state.variableIds;if("N"==b)for(b=c.length-1;0<=b;b--)c[b]===a.target.id&&c.splice(b,1);else c[c.length]=a.target.id;this.setState({variableIds:c,size:c.length})},buildCheckbox:function(a){return 0<this.state.variableIds.length&&-1<this.state.variableIds.indexOf(a.id)?React.createElement("input",{name:a.id,id:a.id,title:"select this box to compare this variable to others",type:"checkbox",checked:"checked",onChange:this.checkboxChange}):
React.createElement("input",{name:a.id,id:a.id,title:"select this box to compare this variable to others",type:"checkbox",onChange:this.checkboxChange})},buildName:function(a){var b=a.id,c=b.substring(0,b.indexOf("-")),d=b.substring(b.indexOf("-")+1,b.indexOf("_")),b=b.substring(b.indexOf("_")+1),e=this.props.searchConfig.application;this.props.searchConfig.module&&(e=this.props.searchConfig.module);c=buildVariableUrl(e,c,d,b);return React.createElement("a",{href:c},a.varName)},buildLabel:function(a){return a.varLabel},
buildQuestion:function(a){return React.createElement("div",{className:"pre-scrollable"},null==a.qText?"-":a.qText)},buildResponse:function(a){var b=React.createElement("span",null);if(null!=a.categories&&0<a.categories.length){var c=!1,b=React.createElement("p",null);50<=a.categories.length&&(b=React.createElement("p",null,"Only first 50 categories displayed."));var d=a.categories.map(function(a,b){if(a.missing)return c=!0,null;var d=React.createElement("td",null,"-");null!=a.valueString&&(d=React.createElement("td",
null,a.valueString));var e=React.createElement("td",null,"-");null!=a.valueLabel&&(e=React.createElement("td",null,a.valueLabel));var f=React.createElement("td",null,"-"),g=React.createElement("td",null,"-");null!=a.stats&&(null!=a.stats.freq&&(f=React.createElement("td",null,a.stats.freq)),null!=a.stats.percent&&(g=React.createElement("td",null,a.stats.percent,"%")));return React.createElement("tr",null,d,e,f,g)}),e=a.categories.map(function(a,b){if(!a.missing)return null;var c=React.createElement("td",
null,"-");null!=a.valueString&&(c=React.createElement("td",null,a.valueString));var d=React.createElement("td",null,"-");null!=a.valueLabel&&(d=React.createElement("td",null,a.valueLabel));var e=React.createElement("td",null,"-"),f=React.createElement("td",null,"-");null!=a.stats&&(null!=a.stats.freq&&(e=React.createElement("td",null,a.stats.freq)),null!=a.stats.percent&&(f=React.createElement("td",null,a.stats.percent,"%")));return React.createElement("tr",null,c,d,e,f)}),g="";null!=a.sumStats&&
null!=a.sumStats.invd&&null!=a.sumStats.vald&&(g=parseInt(a.sumStats.invd)+parseInt(a.sumStats.vald));var f=0;a.categories.map(function(a,b){null!=a.stats&&(f+=parseInt(a.stats.freq))});a=React.createElement("tr",null,React.createElement("th",null),React.createElement("th",null,"Total"),React.createElement("th",null,g),React.createElement("th",null,"100%"));b=c?React.createElement("div",{className:"pre-scrollable"},React.createElement("table",{className:"table table-striped"},React.createElement("thead",
null,React.createElement("tr",null,React.createElement("th",null,"Value"),React.createElement("th",null,"Label"),React.createElement("th",null,"Unweighted",React.createElement("br",null),"Frequency"),React.createElement("th",null,"%"))),React.createElement("tbody",null,d,React.createElement("tr",null,React.createElement("th",null," "),React.createElement("th",null,"Missing Values"),React.createElement("th",null," "),React.createElement("th",null," ")),e,a)),b):React.createElement("div",{className:"pre-scrollable"},
React.createElement("table",{className:"table table-striped"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Value"),React.createElement("th",null,"Label"),React.createElement("th",null,"Unweighted",React.createElement("br",null),"Frequency"),React.createElement("th",null,"%"))),React.createElement("tbody",null,d,a)),b)}return b},buildStudy:function(a){var b=a.id;a=b.substring(0,b.indexOf("-"));var b=b.substring(b.indexOf("-")+1,b.indexOf("_")),b=parseInt(b,
10),c=this.getStudyInfo(a),d=null!=c?c.projectTitle:"Study",e="";if(null!=c&&null!=c.datasets)for(var g=0;g<c.datasets.length;g++){var f=c.datasets[g];b==f.dsNo&&(e=f.title)}g="icpsr";c=this.props.searchConfig;c.application&&(g=c.application);c.module&&null!=c.module&&"null"!=c.module&&(g=c.module);a=buildStudyUrl(g,null,a);d==e&&(e="");""!=e&&(e=" - "+e);return React.createElement("a",{href:a},d,";  DS",b," ",e)},buildTimePeriod:function(a){a=this.getStudyInfo(a);return null!=a?a.metadata.timePeriods.toString():
"-"},buildUniverse:function(a){a=this.getStudyInfo(a);return React.createElement("div",{className:"pre-scrollable"},null!=a?a.metadata.universe:"-")},getStudyInfo:function(a){var b=null;this.state.studyData.map(function(c){a==c.id&&(b=c)});return b},render:function(){var a=this.goToSearch,b=this.compareVariables,c=this.state.size,d=this.buildCheckbox,e=this.buildName,g=this.buildLabel,f=this.buildQuestion,h=this.buildResponse,k=this.buildStudy,l=this.buildTimePeriod,n=this.buildUniverse,m=React.createElement("tr",
null,React.createElement("td",null));0<this.state.data.length&&(m=this.state.data.map(function(a,b){if(null!=a){var c=a.id,m=c.substring(0,c.indexOf("-")),c=d(a),s=e(a),u=g(a),v=f(a),w=h(a),x=k(a),y=l(m),m=n(m);return React.createElement("tr",{key:b},React.createElement("td",{className:"col-md-1"},c,"\u00a0",s),React.createElement("td",{className:"col-md-2"},u),React.createElement("td",{className:"col-md-2"},v),React.createElement("td",{className:"col-md-3"},w),React.createElement("td",{className:"col-md-2"},
x),React.createElement("td",{className:"col-md-2"},y),React.createElement("td",{className:"col-md-2"},m))}}));return React.createElement("div",{className:"container-fluid"},React.createElement("h1",null,"Compare Variables"),React.createElement("button",{type:"button",onClick:b,className:"btn btn-primary"},"Compare (",c,")"),"\u00a0",React.createElement("button",{type:"button",onClick:a,className:"btn btn-secondary"},"Back to search results"),React.createElement("br",null),React.createElement("br",
null),React.createElement("table",{className:"table table-bordered table-hover"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{scope:"col"},"NAME"),React.createElement("th",{scope:"col"},"LABEL"),React.createElement("th",{scope:"col"},"QUESTION"),React.createElement("th",{scope:"col"},"RESPONSES"),React.createElement("th",{scope:"col"},"STUDY"),React.createElement("th",{scope:"col"},"TIME PERIOD"),React.createElement("th",{scope:"col"},"UNIVERSE"))),React.createElement("tbody",
null,m)))}}),VariableSearchResult=React.createClass({displayName:"VariableSearchResult",getInitialState:function(){return null},addResultToSavedResults:function(){console.log("Executing addResultToSavedResults.");var a=this.props.savedResults;a[a.length]=this.props.children[this.props.searchConfig.idVariable].toString();this.props.updateSavedResults(a)},removeResultFromSavedResults:function(){var a=this.props.savedResults,b=a.indexOf(this.props.children[this.props.searchConfig.idVariable].toString());
a.splice(b,1);this.props.updateSavedResults(a)},render:function(){var a=!1;"studyHomePage"==this.props.mode&&(a=!0);var b=React.createElement("div",null),b=parseInt(this.props.children.DATASETID),c=this.props.children.DATASETTITLE;void 0!=c&&(c=" - "+this.props.children.DATASETTITLE);var d=this.props.searchConfig,e="icpsr";d.application&&(e=d.application);d.module&&null!=d.module&&"null"!=d.module&&(e=d.module);var e=buildVariableUrl(e,this.props.children.STUDYID,this.props.children.DATASETID,this.props.children.VARNAME),
g=React.createElement("span",null),d=this.props.params.start+this.props.resultIndex+1,f=this.props.children[this.props.searchConfig.idVariable];null!=this.props.children.VARLABEL&&null!=this.props.children.VARQLIT?g=React.createElement("div",null,React.createElement("p",null,React.createElement("em",null,this.props.children.VARLABEL.trim())),React.createElement("p",{className:"qstn"},this.props.children.VARQLIT.trim())):null!=this.props.children.VARLABEL&&(g=React.createElement("div",null,React.createElement("p",
null,React.createElement("em",null,this.props.children.VARLABEL.trim()))));var h=React.createElement("span",null),h=React.createElement("div",null,React.createElement("em",null,"Taken from: ",this.props.children.STUDYTITLE.trim(),"."));!a&&"undefined"!==typeof saveSearchResult&&saveSearchResult?(a=React.createElement("div",{className:"col-md-2 p-md-2"},React.createElement("form",{className:"d-inline"},React.createElement("input",{type:"checkbox",name:"searchResult"+f,onClick:this.addResultToSavedResults,
title:"Select "+this.props.children.VARNAME})),"\u00a0",React.createElement("a",{href:e,className:"text-break"},this.props.children.VARNAME)),0<this.props.savedResults.length&&-1<this.props.savedResults.indexOf(f)&&(a=React.createElement("div",{className:"col-md-2 p-md-2"},React.createElement("form",{className:"d-inline"},React.createElement("input",{type:"checkbox",name:"searchResult"+f,checked:"checked",onClick:this.removeResultFromSavedResults,title:"De-select "+this.props.children.VARNAME})),
"\u00a0",React.createElement("a",{href:e,className:"text-break"},this.props.children.VARNAME))),e=React.createElement("div",{className:"col-md-6 p-md-2",title:"Label/Question Text"},g,h),g=React.createElement("div",{className:"col-md-2 py-1 p-md-2",title:"type"},this.props.children.VARFORMAT),b=React.createElement("div",{title:"Dataset",className:"col-md-2 py-md-2"},"DS",b,c),b=React.createElement("div",{className:"searchResult row border-bottom border-1 py-2",key:"searchResult"+d},a,e,g,b)):b=React.createElement("div",
{className:"searchResult row border-bottom border-1 py-2",key:"searchResult"+d},React.createElement("div",{title:"Name",className:"col-md-2 p-md-2"},React.createElement("a",{href:e},this.props.children.VARNAME)),React.createElement("div",{title:"Label/Question Text",className:"col-md-6 p-md-2"},g,h),React.createElement("div",{title:"type",className:"col-md-2 py-1 p-md-2"},this.props.children.VARFORMAT),React.createElement("div",{title:"Dataset",className:"col-md-2 py-md-2"},"DS",b));return b}}),VariableTag=
React.createClass({displayName:"VariableTag",getInitialState:function(){return{tag:null}},loadTags:function(){this.props.loadTags()},deleteTag:function(){var a=this.loadTags;$.ajax({url:publishManagerUrl+"/variables/tags/delete?study\x3d"+this.props.viewTag.study+"\x26ds\x3d"+this.props.viewTag.ds+"\x26varname\x3d"+this.props.viewTag.varname+"\x26tagId\x3d"+this.props.viewTag.tagId,type:"GET",global:!1,success:function(b){a()}.bind(this),error:function(a,c,d){console.error(a,c,d)}})},convertDate:function(a){if(null!=
a){a=new Date(a);var b=a.getUTCMonth()+1,c=a.getUTCDate();return(9<b?b:"0"+b)+"/"+(9<c?c:"0"+c)+"/"+a.getUTCFullYear()}return null},render:function(){var a=React.createElement("span",null),b=this.convertDate(this.props.viewTag.created);null==this.props.viewTag.deleted&&(a=React.createElement("li",null,this.props.viewTag.tag.shortName," - ",this.props.viewTag.tag.cdeName," (",this.props.viewTag.tagSet.shortName,")","\u00a0",React.createElement("a",{href:"#",title:"Entered by "+this.props.viewTag.email+
" on "+b},React.createElement("i",{className:"fa-solid fa-circle-info"})),"\u00a0",React.createElement("a",{href:"#",onClick:this.deleteTag},React.createElement("i",{className:"fa-solid fa-trash-can"}))));return a}}),VariableTagButton=React.createClass({displayName:"VariableTagButton",getInitialState:function(){return{variableIds:[]}},componentDidMount:function(){this.isMounted()&&this.openModal()},openModal:function(){ReactDOM.render(React.createElement(VariableTagModal,{variableIds:this.props.variableIds,
closeModal:this.closeModal}),document.getElementById("variableTagWrapper"));$("#variableTagModal").modal("show")},closeModal:function(){ReactDOM.unmountComponentAtNode(document.getElementById("variableTag"))},render:function(){return React.createElement("div",{id:"variableTagWrapper"})}}),VariableTagModal=React.createClass({displayName:"VariableTagModal",getInitialState:function(){return{variableIds:[],currentTagLabel:"",currentTagId:0}},componentDidMount:function(){if(this.isMounted()){var a=this.applyTag;
$("#tag").autocomplete({focus:function(a,c){this.value=c.item.label;a.preventDefault()},source:function(a,c){$.ajax({url:publishManagerUrl+"/api/1.0/variables/tags/suggest?query\x3d"+a.term.trim(),type:"GET",global:!1,beforeSend:function(a,b){jwtToken&&a.setRequestHeader("Authorization","Bearer "+jwtToken)},success:function(a){var b=[];for(i=0;i<a.sdrlVarTagsList.length;i++)b[i]={value:a.sdrlVarTagsList[i].id,label:a.sdrlVarTagsList[i].cdeName};c(b)}.bind(this),error:function(a,b,c){console.error(a,
b,c)}})},minLength:3,select:function(b,c){a(c.item);b.preventDefault()}});$("#tag").attr("autocomplete","on")}},closeModal:function(){$("#variableTagModal").modal("hide");this.props.closeModal()},saveTag:function(){console.log("Executing saveTag.");var a=publishManagerUrl+"/variables/tags/add?variableIds\x3d"+this.props.variableIds+"\x26tagId\x3d"+this.state.currentTagId;console.log(a);$.ajax({url:a,type:"GET",global:!1,beforeSend:function(a,c){jwtToken&&a.setRequestHeader("Authorization","Bearer "+
jwtToken)},success:function(a){console.log("Successfully sent ajax data.");this.closeModal()}.bind(this),error:function(a,c,d){console.error(a,c,d)}})},applyTag:function(a){this.setState({currentTagLabel:a.label,currentTagId:a.value})},changeTag:function(a){this.setState({currentTagLabel:a.target.value})},render:function(){return React.createElement("div",{className:"modal fade",id:"variableTagModal"},React.createElement("div",{className:"modal-dialog modal-vertical-centered"},React.createElement("div",
{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close",onClick:this.closeModal},React.createElement("span",{"aria-hidden":"true"},"\u00d7"),React.createElement("span",{className:"visually-hidden"},"Close")),React.createElement("h4",{className:"modal-title"},"Tag Variables")),React.createElement("div",{className:"modal-body"},React.createElement("form",null,React.createElement("input",{type:"text",name:"tag",id:"tag",
className:"input-sm form-control",value:this.state.currentTagLabel,onChange:this.changeTag}))),React.createElement("div",{className:"modal-footer"},React.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.saveTag},"Save Tag"),React.createElement("button",{type:"button",className:"btn btn-default",onClick:this.closeModal},"Close")))))}}),VariableTags=React.createClass({displayName:"VariableTags",getInitialState:function(){return{tags:[]}},componentDidMount:function(){this.isMounted()&&
this.loadTags()},componentWillReceiveProps:function(){this.loadTags()},loadTags:function(){console.log("Executing loadTags for "+this.props.id+".");var a=publishManagerUrl+"/api/1.0/variables/tags/"+this.props.id;console.log(a);var b=this.props.id;$.ajax({url:a,type:"GET",global:!1,success:function(a){this.setState({tags:a.sdrlSolrVarTagsList});$("#"+b+"tags").focus()}.bind(this),error:function(a,b,e){console.error(a,b,e)}})},render:function(){var a=React.createElement("div",null),b=this.loadTags,
c=this.props.id,d=this.state.tags.map(function(a,d){return React.createElement(VariableTag,{key:d,viewTag:a,loadTags:b,solrId:c})});0<this.state.tags.length&&(a=React.createElement("div",null,React.createElement("h2",{id:"variableTagsLabel"},"Variable Tags"),React.createElement("ul",null,d)));return a}}),WebpageSearchResult=React.createClass({displayName:"WebpageSearchResult",getInitialState:function(){return null},addResultToSavedResults:function(){var a=this.props.savedResults;a[a.length]=this.props.children[this.props.searchConfig.idVariable].toString();
this.props.updateSavedResults(a)},removeResultFromSavedResults:function(){var a=this.props.savedResults,b=a.indexOf(this.props.children[this.props.searchConfig.idVariable].toString());a.splice(b,1);this.props.updateSavedResults(a)},render:function(){var a=Number(this.props.start)+Number(this.props.resultIndex)+1,b=React.createElement("div",null,a,"."),c=this.props.children[this.props.searchConfig.idVariable],d=this.props.children[this.props.searchConfig.titleVariable],e="";this.props.children[this.props.searchConfig.dateVariable]&&
(e=this.props.children[this.props.searchConfig.dateVariable].substr(0,10));var g="";this.props.children.description&&(g=this.props.children.description.replace(/(&nbsp;|<([^>]+)>)/ig,""));g=React.createElement("div",{className:"px-2"},React.createElement("strong",null,React.createElement("a",{href:this.props.children.url},d),"\u00a0"),React.createElement("br",null),React.createElement("div",{className:"webpagesContent w-75"},React.createElement("div",{dangerouslySetInnerHTML:{__html:g}})));e=React.createElement("div",
{className:"px-2 text-nowrap ms-auto"},e);saveSearchResult&&(b=React.createElement("div",{className:"px-2"},React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+c,onClick:this.addResultToSavedResults,title:"Select "+d}))),0<this.props.savedResults.length&&-1<this.props.savedResults.indexOf(c)&&(b=React.createElement("div",{className:"px-2"},React.createElement("form",null,React.createElement("input",{type:"checkbox",name:"searchResult"+c,checked:"checked",
onClick:this.removeResultFromSavedResults,title:"De-select "+d})))));return React.createElement("div",{className:"d-flex border-bottom border-1 py-2",key:"searchResult"+a},b,g,e)}}),WordCloud=React.createClass({displayName:"WordCloud",getInitialState:function(){return{data:null}},componentWillMount:function(){this.loadData()},loadData:function(){var a=[];$.ajax({url:searchServerUrl+"/popularSearchTerms?searchTerm\x3dsearchTerm_raw\x26size\x3d50",type:"POST",global:!1,success:function(b){b=eval("("+
b+")");if(null!=b&&0<b.aggregations.searchTerms.buckets.length)for(i=0;i<b.aggregations.searchTerms.buckets.length;i++)a.push(b.aggregations.searchTerms.buckets[i].key);this.setState({data:a})}.bind(this),error:function(a,c,d){console.error(a,c,d)}})},render:function(){function a(a){d3.select("#wordCloud").append("svg").attr("width",e.size()[0]).attr("height",e.size()[1]).append("g").attr("transform","translate("+e.size()[0]/2+","+e.size()[1]/2+")").selectAll("text").data(a).enter().append("a").attr("xlink:href",
function(a){return c+"/ICPSR/studies?sortBy\x3d\x26searchSource\x3drevise\x26q\x3d"+a.text}).append("text").style("font-size",function(a){return a.size+"px"}).style("font-family","Impact").style("fill",function(a,b){return d(b)}).attr("text-anchor","middle").attr("transform",function(a){return"translate("+[a.x,a.y]+")rotate("+a.rotate+")"}).text(function(a){return a.text})}var b=this.state.data,c=this.props.icpsrwebUrl,d=d3.scaleOrdinal(d3.schemeCategory20);if(null!=b){var e=d3.layout.cloud().size([300,
200]).words(b.map(function(a){return{text:a,size:10+10*Math.random()}})).padding(5).font("Impact").fontSize(function(a){return a.size}).on("end",a);e.start()}return React.createElement("div",null,React.createElement("h2",null,"Most Popular Search Terms"),React.createElement("div",{id:"wordCloud"}))}});